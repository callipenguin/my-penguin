import{u as Be,a as m,j as e,B as c,T as r,C as M,f as _,aj as We,aF as Ye,g as q,G as b,a6 as v,a7 as T,_ as Ee,W as $e,aO as ze,bk as Pe,bl as Ae,ag as Fe,A as R,aN as ne,L as ie,q as oe,v as ce,bb as Le,be as Oe,bf as _e,b7 as Re,bg as Ne,U as Ue,bm as He,ap as Ve,bn as qe,bo as Ge,bp as de,bq as j,br as Je,d as k,J as N,o as U,a_ as Ze,aZ as Ke,aL as Qe,aM as Xe,bs as et,D as tt,b as at,c as rt,F as st,I as lt,S as nt,M as ue,e as it}from"./mui-754dcb1a.js";import{g as E,l as ot,d as ct,e as dt,f as ut,h as xt,i as jt}from"./index-23e7b333.js";import{d as p}from"./dayjs-9d6a636c.js";const vt=({themeConfig:u})=>{var te;const g=Be(),[G,xe]=m.useState([]),[je,J]=m.useState(!0),[ht,he]=m.useState(null),[me,Z]=m.useState(!0),[C,mt]=m.useState(p().startOf("week").format("YYYY-MM-DD")),[S,pe]=m.useState([]),[B,ge]=m.useState([]),[pt,ye]=m.useState([]),[$,H]=m.useState(null),[z,D]=m.useState({}),[be,L]=m.useState(!1),[d,W]=m.useState({sessionType:"work",duration:25,actualDuration:25}),K=(()=>{const a={excellent:{label:"ìµœê³ ",score:5,color:g.palette.success.dark},good:{label:"ì¢‹ìŒ",score:4,color:g.palette.success.main},normal:{label:"ë³´í†µ",score:3,color:g.palette.warning.main},tired:{label:"í”¼ê³¤",score:2,color:g.palette.warning.dark},exhausted:{label:"ë§¤ìš° í”¼ê³¤",score:1,color:g.palette.error.main}},t={penguin:{excellent:"ðŸ§",good:"ðŸŸ",normal:"â„ï¸",tired:"ðŸ§Š",exhausted:"ðŸ»â€â„ï¸"},"desert-fox":{excellent:"ðŸ¦Š",good:"ðŸŒµ",normal:"â˜€ï¸",tired:"ðŸœï¸",exhausted:"ðŸ”¥"},sheep:{excellent:"ðŸ‘",good:"ðŸŒ¿",normal:"ðŸŒ±",tired:"ðŸƒ",exhausted:"ðŸŒ¾"},cat:{excellent:"ðŸ±",good:"ðŸŸ",normal:"ðŸ§¶",tired:"ðŸ¾",exhausted:"ðŸ˜¿"}},s=(u==null?void 0:u.id)||"penguin",i=t[s]||t.penguin;return Object.keys(a).reduce((y,h)=>(y[h]={...a[h],emoji:i[h]},y),{})})();m.useEffect(()=>{fe(),Q(),P()},[C]);const fe=async()=>{try{J(!0);const a=E();if(a){const t=await ot(a.uid,"conditions");t.success&&t.data&&xe(t.data)}}catch(a){console.error("ì»¨ë””ì…˜ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",a)}finally{J(!1)}},Q=async()=>{try{Z(!0);const a=E();if(a){const t=await ct(a.uid,C);t.success&&t.data&&he(t.data)}}catch(a){console.error("ë½€ëª¨ë„ë¡œ í†µê³„ ë¡œë“œ ì‹¤íŒ¨:",a)}finally{Z(!1)}},P=async()=>{try{const a=E();if(a){const t=p(C),s=t.add(6,"day"),i=await dt(a.uid,t.format("YYYY-MM-DD"),s.format("YYYY-MM-DD"));if(i.success&&i.data){const y=i.data;ye(y);const h=t,Y=s,o=y.filter(l=>{const x=p(l.startTime);return x.isAfter(h.subtract(1,"day"))&&x.isBefore(Y.add(1,"day"))&&l.completed&&l.sessionType==="work"}),n=[];for(let l=0;l<7;l++){const re=h.add(l,"day").format("YYYY-MM-DD"),se=o.filter(f=>p(f.startTime).format("YYYY-MM-DD")===re),F={};let le=0;se.forEach(f=>{le+=f.duration,F[f.projectId]||(F[f.projectId]={title:f.projectTitle,minutes:0,sessions:0}),F[f.projectId].minutes+=f.duration,F[f.projectId].sessions+=1}),n.push({date:re,sessions:se,totalMinutes:le,projectBreakdown:F})}pe(n);const I={},ae=o.reduce((l,x)=>l+x.duration,0);o.forEach(l=>{I[l.projectId]||(I[l.projectId]={projectId:l.projectId,projectTitle:l.projectTitle,totalMinutes:0,totalSessions:0,percentage:0,tasks:{}});const x=I[l.projectId];x.totalMinutes+=l.duration,x.totalSessions+=1,x.tasks[l.taskId]||(x.tasks[l.taskId]={title:l.taskTitle,minutes:0,sessions:0}),x.tasks[l.taskId].minutes+=l.duration,x.tasks[l.taskId].sessions+=1});const Ce=Object.values(I).map(l=>({...l,percentage:ae>0?l.totalMinutes/ae*100:0})).sort((l,x)=>x.totalMinutes-l.totalMinutes);ge(Ce)}}}catch(a){console.error("ìƒì„¸ ë½€ëª¨ë„ë¡œ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",a)}},ve=()=>{if(!G.length)return{weeklyStats:{},totalEntries:0,averageScore:0};const a=p(C),t=a.add(6,"day"),s=G.filter(o=>{const n=p(o.date);return n.isAfter(a.subtract(1,"day"))&&n.isBefore(t.add(1,"day"))}),i={};let y=0,h=s.length;for(let o=0;o<7;o++)i[o]={count:0,total:0,average:0};s.forEach(o=>{const n=p(o.date).day(),I=K[o.condition].score;i[n].count++,i[n].total+=I,y+=I}),Object.keys(i).forEach(o=>{const n=parseInt(o);i[n].count>0&&(i[n].average=i[n].total/i[n].count)});const Y=h>0?y/h:0;return{weeklyStats:i,totalEntries:h,averageScore:Y}},{weeklyStats:X,totalEntries:ee,averageScore:O}=ve(),A=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "],w=a=>{const t=Math.floor(a/60),s=a%60;return t>0?`${t}ì‹œê°„ ${s}ë¶„`:`${s}ë¶„`},Te=()=>"ðŸ“Š í™œë™ ë¶„ì„",ke=()=>{var t;return`${((t=u==null?void 0:u.concepts)==null?void 0:t.animal)||"íŽ­ê·„"}ì˜ ìƒí™œ íŒ¨í„´ê³¼ ë½€ëª¨ë„ë¡œ ì§‘ì¤‘ ì„¸ì…˜ì„ ë¶„ì„í•´ì„œ ìµœì ì˜ ì‹œê°„ì„ ì°¾ì•„ë“œë ¤ìš”`},Se=a=>{H(a.id),D({[a.id]:{duration:a.duration,actualDuration:a.actualDuration||a.duration,projectTitle:a.projectTitle,taskTitle:a.taskTitle}})},De=async a=>{const t=z[a];if(t)try{const s=E();if(!s)return;const i=await ut(s.uid,a,{duration:t.duration,actualDuration:t.actualDuration||t.duration,projectTitle:t.projectTitle,taskTitle:t.taskTitle});i.success?(H(null),D({}),console.log(`âœ… ì„¸ì…˜ ìˆ˜ì • ì™„ë£Œ: ${a}`),P()):(console.error("ì„¸ì…˜ ìˆ˜ì • ì‹¤íŒ¨:",i.error),alert("ì„¸ì…˜ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+i.error))}catch(s){console.error("ì„¸ì…˜ ìˆ˜ì • ì‹¤íŒ¨:",s),alert("ì„¸ì…˜ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},we=()=>{H(null),D({})},Ie=async a=>{if(confirm("ì´ ì„¸ì…˜ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const t=E();if(!t)return;const s=await xt(t.uid,a);s.success?(console.log(`ðŸ—‘ï¸ ì„¸ì…˜ ì‚­ì œ ì™„ë£Œ: ${a}`),P()):(console.error("ì„¸ì…˜ ì‚­ì œ ì‹¤íŒ¨:",s.error),alert("ì„¸ì…˜ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+s.error))}catch(t){console.error("ì„¸ì…˜ ì‚­ì œ ì‹¤íŒ¨:",t),alert("ì„¸ì…˜ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Me=async()=>{if(!d.projectTitle||!d.taskTitle||!d.duration){alert("ëª¨ë“  í•„ë“œë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.");return}try{const a=E();if(!a)return;const t=new Date,s={projectId:`proj_${Date.now()}`,projectTitle:d.projectTitle,taskId:`task_${Date.now()}`,taskTitle:d.taskTitle,sessionType:d.sessionType,duration:d.duration,actualDuration:d.actualDuration||d.duration,startTime:d.startTime||t.toISOString(),endTime:d.endTime||new Date(t.getTime()+d.duration*6e4).toISOString(),completed:!0};(await jt(a.uid,s)).success&&(L(!1),W({sessionType:"work",duration:25,actualDuration:25}),console.log("âœ… ìƒˆ ì„¸ì…˜ ì¶”ê°€ ì™„ë£Œ"),P())}catch(a){console.error("ì„¸ì…˜ ì¶”ê°€ ì‹¤íŒ¨:",a)}},V=Object.entries(X).filter(([a,t])=>t.count>0).sort((a,t)=>t[1].average-a[1].average)[0];return e.jsxs(c,{sx:{p:3},children:[e.jsxs(c,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:Te()}),e.jsx(r,{variant:"body1",color:"textSecondary",children:ke()})]}),e.jsxs(c,{sx:{mb:6},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(r,{variant:"h5",fontWeight:"bold",sx:{background:"linear-gradient(45deg, #ff6b6b 30%, #feca57 90%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ðŸ… ë½€ëª¨ë„ë¡œ ë¶„ì„"}),e.jsx(M,{label:`${C.split("-")[1]}ì›” ${C.split("-")[2]}ì¼ ì£¼ì°¨`,variant:"outlined",size:"small"}),e.jsx(_,{size:"small",startIcon:e.jsx(We,{}),onClick:()=>{Q(),P()},children:"ìƒˆë¡œê³ ì¹¨"}),e.jsx(_,{size:"small",variant:"contained",startIcon:e.jsx(Ye,{}),onClick:()=>L(!0),children:"ì„¸ì…˜ ì¶”ê°€"})]}),me?e.jsx(c,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(q,{})}):e.jsxs(b,{container:!0,spacing:3,children:[e.jsx(b,{item:!0,xs:12,md:6,lg:3,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ee,{color:"primary"})," ì£¼ê°„ ì´ ì§‘ì¤‘ì‹œê°„"]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:w(B.reduce((a,t)=>a+t.totalMinutes,0))}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["ì´ ",B.reduce((a,t)=>a+t.totalSessions,0),"íšŒ ì„¸ì…˜"]})]})})}),e.jsx(b,{item:!0,xs:12,md:6,lg:3,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx($e,{color:"primary"})," í™œë™í•œ í”„ë¡œì íŠ¸"]}),e.jsxs(r,{variant:"h4",color:"primary",fontWeight:"bold",children:[B.length,"ê°œ"]}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"ì´ë²ˆ ì£¼ ìž‘ì—… í”„ë¡œì íŠ¸"})]})})}),e.jsx(b,{item:!0,xs:12,md:6,lg:3,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ze,{color:"primary"})," ì¼í‰ê·  ì§‘ì¤‘ì‹œê°„"]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:w(Math.round(B.reduce((a,t)=>a+t.totalMinutes,0)/7))}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"í•˜ë£¨ í‰ê·  ì§‘ì¤‘ì‹œê°„"})]})})}),e.jsx(b,{item:!0,xs:12,md:6,lg:3,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Pe,{color:"primary"})," ê°€ìž¥ í™œë°œí•œ ë‚ "]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:S.length>0?A[p((te=S.sort((a,t)=>t.totalMinutes-a.totalMinutes)[0])==null?void 0:te.date).day()]+"ìš”ì¼":"-"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:S.length>0?w(Math.max(...S.map(a=>a.totalMinutes))):"ë°ì´í„° ì—†ìŒ"})]})})}),e.jsx(b,{item:!0,xs:12,lg:8,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ae,{color:"primary"})," í”„ë¡œì íŠ¸ë³„ ì‹œê°„ íˆ¬ìž ë¹„ìœ¨"]}),B.length>0?e.jsx(c,{children:B.map((a,t)=>e.jsxs(c,{sx:{mb:2},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(r,{variant:"body2",fontWeight:"medium",children:a.projectTitle}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(M,{label:`${a.percentage.toFixed(1)}%`,size:"small",variant:"outlined"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:w(a.totalMinutes)})]})]}),e.jsx(Fe,{variant:"determinate",value:a.percentage,sx:{height:8,borderRadius:4,backgroundColor:g.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:g.palette.primary.main}}})]},a.projectId))}):e.jsxs(R,{severity:"info",children:["ì´ë²ˆ ì£¼ì—ëŠ” ë½€ëª¨ë„ë¡œ ì„¸ì…˜ì´ ì—†ì–´ìš”. ì§‘ì¤‘ ì‹œê°„ì„ ê¸°ë¡í•´ë³´ì„¸ìš”! ",u==null?void 0:u.emoji]})]})})}),e.jsx(b,{item:!0,xs:12,lg:4,children:e.jsx(v,{sx:{height:"100%"},children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ne,{color:"primary"})," ì¼ë³„ í™œë™ ìš”ì•½"]}),e.jsx(ie,{dense:!0,children:S.map((a,t)=>e.jsx(oe,{sx:{px:0},children:e.jsx(ce,{primary:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(r,{variant:"body2",children:[A[p(a.date).day()],"ìš”ì¼ (",p(a.date).format("M/D"),")"]}),e.jsx(M,{label:a.totalMinutes>0?w(a.totalMinutes):"íœ´ì‹",size:"small",color:a.totalMinutes>0?"primary":"default",variant:a.totalMinutes>0?"filled":"outlined"})]}),secondary:a.sessions.length>0?`${a.sessions.length}íšŒ ì„¸ì…˜ â€¢ ${Object.keys(a.projectBreakdown).length}ê°œ í”„ë¡œì íŠ¸`:"í™œë™ ì—†ìŒ"})},a.date))})]})})}),e.jsx(b,{item:!0,xs:12,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Le,{color:"primary"})," ðŸ“… ìƒì„¸ ì¼ë³„ í™œë™ ë¶„ì„"]}),S.some(a=>a.sessions.length>0)?S.filter(a=>a.sessions.length>0).map(a=>e.jsxs(Oe,{sx:{mt:1},children:[e.jsx(_e,{expandIcon:e.jsx(Re,{}),children:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",pr:2},children:[e.jsxs(r,{variant:"body1",fontWeight:"medium",children:[A[p(a.date).day()],"ìš”ì¼ (",p(a.date).format("YYYYë…„ Mì›” Dì¼"),")"]}),e.jsxs(c,{sx:{display:"flex",gap:1},children:[e.jsx(M,{label:`${w(a.totalMinutes)}`,size:"small",color:"primary"}),e.jsx(M,{label:`${a.sessions.length}íšŒ ì„¸ì…˜`,size:"small",variant:"outlined"})]})]})}),e.jsx(Ne,{children:e.jsxs(c,{children:[e.jsx(r,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:"í”„ë¡œì íŠ¸ë³„ í™œë™:"}),Object.entries(a.projectBreakdown).map(([t,s])=>e.jsxs(c,{sx:{mb:2,pl:2,borderLeft:`3px solid ${g.palette.primary.main}`},children:[e.jsxs(r,{variant:"body2",fontWeight:"medium",children:["ðŸ“ ",s.title]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:[w(s.minutes)," â€¢ ",s.sessions,"íšŒ ì„¸ì…˜"]})]},t)),e.jsx(Ue,{sx:{my:2}}),e.jsx(r,{variant:"subtitle2",gutterBottom:!0,children:"ì„¸ì…˜ ìƒì„¸ ë‚´ì—­:"}),e.jsx(He,{component:Ve,variant:"outlined",children:e.jsxs(qe,{size:"small",children:[e.jsx(Ge,{children:e.jsxs(de,{children:[e.jsx(j,{children:"ì‹œê°„"}),e.jsx(j,{children:"í”„ë¡œì íŠ¸"}),e.jsx(j,{children:"ìž‘ì—…"}),e.jsx(j,{align:"right",children:"ì§‘ì¤‘ì‹œê°„"}),e.jsx(j,{align:"right",children:"ì‹¤ì œì‹œê°„"}),e.jsx(j,{align:"center",children:"ìƒíƒœ"}),e.jsx(j,{align:"center",children:"íŽ¸ì§‘"})]})}),e.jsx(Je,{children:a.sessions.sort((t,s)=>new Date(t.startTime).getTime()-new Date(s.startTime).getTime()).map((t,s)=>{var i,y,h,Y;return e.jsxs(de,{children:[e.jsx(j,{children:p(t.startTime).format("HH:mm")}),e.jsx(j,{children:$===t.id?e.jsx(k,{size:"small",value:((i=z[t.id])==null?void 0:i.projectTitle)||t.projectTitle,onChange:o=>D(n=>({...n,[t.id]:{...n[t.id],projectTitle:o.target.value}}))}):t.projectTitle}),e.jsx(j,{children:$===t.id?e.jsx(k,{size:"small",value:((y=z[t.id])==null?void 0:y.taskTitle)||t.taskTitle,onChange:o=>D(n=>({...n,[t.id]:{...n[t.id],taskTitle:o.target.value}}))}):t.taskTitle}),e.jsx(j,{align:"right",children:$===t.id?e.jsx(k,{size:"small",type:"number",value:((h=z[t.id])==null?void 0:h.duration)||t.duration,onChange:o=>D(n=>({...n,[t.id]:{...n[t.id],duration:parseFloat(o.target.value)||0}})),sx:{width:"70px"}}):`${t.duration}ë¶„`}),e.jsx(j,{align:"right",children:$===t.id?e.jsx(k,{size:"small",type:"number",value:((Y=z[t.id])==null?void 0:Y.actualDuration)||t.actualDuration||t.duration,onChange:o=>D(n=>({...n,[t.id]:{...n[t.id],actualDuration:parseFloat(o.target.value)||0}})),sx:{width:"70px"}}):e.jsxs(c,{children:[e.jsx(r,{variant:"body2",children:t.actualDuration?`${t.actualDuration}ë¶„`:`${t.duration}ë¶„`}),t.actualDuration&&t.actualDuration!==t.duration&&e.jsxs(r,{variant:"caption",color:"text.secondary",children:["(ì„¤ì •: ",t.duration,"ë¶„)"]})]})}),e.jsx(j,{align:"center",children:e.jsx(M,{label:t.completed?"ì™„ë£Œ":"ì¤‘ë‹¨",size:"small",color:t.completed?"success":"warning",variant:t.actualDuration&&t.actualDuration!==t.duration?"outlined":"filled"})}),e.jsx(j,{align:"center",children:$===t.id?e.jsxs(c,{sx:{display:"flex",gap:.5},children:[e.jsx(N,{title:"ì €ìž¥",children:e.jsx(U,{size:"small",color:"primary",onClick:()=>De(t.id),children:e.jsx(Ze,{})})}),e.jsx(N,{title:"ì·¨ì†Œ",children:e.jsx(U,{size:"small",onClick:we,children:e.jsx(Ke,{})})})]}):e.jsxs(c,{sx:{display:"flex",gap:.5},children:[e.jsx(N,{title:"íŽ¸ì§‘",children:e.jsx(U,{size:"small",onClick:()=>Se(t),children:e.jsx(Qe,{})})}),e.jsx(N,{title:"ì‚­ì œ",children:e.jsx(U,{size:"small",color:"error",onClick:()=>Ie(t.id),children:e.jsx(Xe,{})})})]})})]},t.id)})})]})})]})})]},a.date)):e.jsxs(R,{severity:"info",sx:{mt:2},children:["ì´ë²ˆ ì£¼ì—ëŠ” ë½€ëª¨ë„ë¡œ í™œë™ì´ ì—†ì–´ìš”. ",u==null?void 0:u.emoji," íƒ€ì´ë¨¸ì—ì„œ ì§‘ì¤‘ ì„¸ì…˜ì„ ì‹œìž‘í•´ë³´ì„¸ìš”!"]})]})})})]})]}),e.jsxs(b,{container:!0,spacing:3,children:[e.jsx(b,{item:!0,xs:12,md:6,children:e.jsx(v,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(et,{})," ì£¼ê°„ ì»¨ë””ì…˜ í‰ê· "]}),je?e.jsx(q,{size:24}):ee>0?e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(q,{variant:"determinate",value:O/5*100,size:60,sx:{color:O>=4?g.palette.success.main:O>=3?g.palette.warning.main:g.palette.error.main}}),e.jsxs(c,{children:[e.jsxs(r,{variant:"h4",fontWeight:"bold",children:[O.toFixed(1),"ì "]}),e.jsxs(r,{variant:"body2",color:"textSecondary",children:[ee,"íšŒ ê¸°ë¡"]})]})]}),V&&e.jsx(R,{severity:"success",icon:K.excellent.emoji,children:e.jsxs(r,{variant:"body2",children:[e.jsxs("strong",{children:[A[parseInt(V[0])],"ìš”ì¼"]}),"ì´ ê°€ìž¥ ì¢‹ì•˜ì–´ìš”! (",V[1].average.toFixed(1),"ì )"]})})]}):e.jsxs(R,{severity:"info",children:["ì´ë²ˆ ì£¼ ì»¨ë””ì…˜ ê¸°ë¡ì´ ì—†ì–´ìš”. ",u==null?void 0:u.emoji," ê±´ê°• íƒ­ì—ì„œ ì»¨ë””ì…˜ì„ ê¸°ë¡í•´ë³´ì„¸ìš”!"]})]})})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsx(v,{sx:{height:"100%"},children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ne,{})," ìš”ì¼ë³„ ì»¨ë””ì…˜ ìˆœìœ„"]}),e.jsx(ie,{dense:!0,children:Object.entries(X).filter(([a,t])=>t.count>0).sort((a,t)=>t[1].average-a[1].average).map(([a,t],s)=>e.jsx(oe,{sx:{px:0},children:e.jsx(ce,{primary:e.jsxs(c,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{variant:"body2",children:["#",s+1," ",A[parseInt(a)],"ìš”ì¼"]}),e.jsx(M,{label:`${t.average.toFixed(1)}ì `,size:"small",color:t.average>=4?"success":t.average>=3?"warning":"error"})]}),secondary:`${t.count}íšŒ ê¸°ë¡`})},a))})]})})})]}),e.jsxs(tt,{open:be,onClose:()=>L(!1),children:[e.jsx(at,{children:"ìƒˆ ë½€ëª¨ë„ë¡œ ì„¸ì…˜ ì¶”ê°€"}),e.jsx(rt,{children:e.jsxs(c,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[e.jsx(k,{label:"í”„ë¡œì íŠ¸ ì œëª©",value:d.projectTitle,onChange:a=>W(t=>({...t,projectTitle:a.target.value})),fullWidth:!0}),e.jsx(k,{label:"ìž‘ì—… ì œëª©",value:d.taskTitle,onChange:a=>W(t=>({...t,taskTitle:a.target.value})),fullWidth:!0}),e.jsx(k,{label:"ì§‘ì¤‘ ì‹œê°„ (ë¶„)",type:"number",value:d.duration,onChange:a=>W(t=>({...t,duration:parseFloat(a.target.value)||0})),fullWidth:!0}),e.jsx(k,{label:"ì‹¤ì œ ì§‘ì¤‘ ì‹œê°„ (ë¶„)",type:"number",value:d.actualDuration,onChange:a=>W(t=>({...t,actualDuration:parseFloat(a.target.value)||0})),fullWidth:!0}),e.jsxs(st,{fullWidth:!0,children:[e.jsx(lt,{children:"ì„¸ì…˜ íƒ€ìž…"}),e.jsxs(nt,{value:d.sessionType,label:"ì„¸ì…˜ íƒ€ìž…",onChange:a=>W(t=>({...t,sessionType:a.target.value})),children:[e.jsx(ue,{value:"work",children:"ìž‘ì—…"}),e.jsx(ue,{value:"break",children:"íœ´ì‹"})]})]})]})}),e.jsxs(it,{children:[e.jsx(_,{onClick:()=>L(!1),children:"ì·¨ì†Œ"}),e.jsx(_,{onClick:Me,variant:"contained",children:"ì¶”ê°€"})]})]})]})};export{vt as default};
