import{u as H,a as s,j as r,B as c,a6 as X,a7 as Y,T as b}from"./mui-1d16f996.js";import"./dayjs-9d6a636c.js";const q=({width:n=800,height:i=400,projects:p=[]})=>{const x=H(),f=s.useRef(null),u=s.useRef(),[C,m]=s.useState([]),[d,g]=s.useState(null),[A,R]=s.useState({x:0,y:0}),M=s.useCallback(()=>{const e=[],t=p.length>0?p.length:1;for(let a=0;a<t;a++){const o={id:a,x:Math.random()*(n-60)+30,y:Math.random()*(i-60)+30,targetX:Math.random()*(n-60)+30,targetY:Math.random()*(i-60)+30,speed:.2+Math.random()*.2,emoji:"üêë",project:p[a]||void 0,lastMove:Date.now(),isResting:Math.random()<.3,restUntil:Date.now()+Math.random()*5e3,isHovered:!1};e.push(o)}m(e)},[n,i,p]),j=s.useCallback(()=>{m(e=>e.map(t=>{const a=Date.now();let o={...t};if(o.isResting&&a>o.restUntil&&(o.isResting=!1),o.isHovered||o.emoji!=="üêë"||o.isResting)return o;const l=Math.sqrt(Math.pow(o.x-o.targetX,2)+Math.pow(o.y-o.targetY,2));if(l<3||a-o.lastMove>4e3+Math.random()*3e3){if(Math.random()<.2)return o.isResting=!0,o.restUntil=a+2e3+Math.random()*3e3,o;o.targetX=Math.random()*(n-60)+30,o.targetY=Math.random()*(i-60)+30,o.lastMove=a}const w=o.targetX-o.x,F=o.targetY-o.y,y=Math.min(o.speed,l);return l>0&&(o.x+=w/l*y,o.y+=F/l*y),o}))},[n,i]),h=s.useCallback(()=>{j(),u.current=requestAnimationFrame(h)},[j]),S=e=>{if(f.current){const t=f.current.getBoundingClientRect();R({x:e.clientX-t.left,y:e.clientY-t.top})}},v=(e,t)=>{m(a=>a.map(o=>o.id===e.id?{...o,isHovered:t}:o)),t&&e.project&&e.emoji==="üêë"?g(e.project):t||g(null)},k=()=>{g(null),m(e=>e.map(t=>({...t,isHovered:!1})))};s.useEffect(()=>(M(),u.current=requestAnimationFrame(h),()=>{u.current&&cancelAnimationFrame(u.current)}),[M,h]);const z=[{emoji:"üå≥",x:"10%",y:"20%",size:"45px",opacity:.8},{emoji:"‚òÅÔ∏è",x:"80%",y:"15%",size:"35px",opacity:.9},{emoji:"üè†",x:"85%",y:"75%",size:"30px",opacity:.7},{emoji:"üåª",x:"25%",y:"85%",size:"25px",opacity:.8},{emoji:"ü¶ã",x:"70%",y:"30%",size:"20px",opacity:.6},{emoji:"üåæ",x:"15%",y:"70%",size:"22px",opacity:.7},{emoji:"üåø",x:"90%",y:"45%",size:"18px",opacity:.6}];return r.jsxs(c,{ref:f,sx:{position:"relative",width:n,height:i,background:"linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 25%, #81C784 50%, #4CAF50 100%)",borderRadius:2,overflow:"hidden",cursor:"pointer"},onMouseMove:S,onMouseLeave:k,children:[z.map((e,t)=>r.jsx(c,{sx:{position:"absolute",left:e.x,top:e.y,fontSize:e.size,opacity:e.opacity,pointerEvents:"none",userSelect:"none"},children:e.emoji},t)),C.map(e=>r.jsx(c,{sx:{position:"absolute",left:e.x,top:e.y,fontSize:"24px",cursor:e.project?"pointer":"default",transform:`translate(-50%, -50%) ${e.isHovered?"scale(1.3)":e.isResting?"scale(0.9)":"scale(1)"}`,transition:"transform 0.3s ease",zIndex:10,opacity:e.isResting?.8:1,filter:e.isHovered?"drop-shadow(0 0 8px rgba(76, 175, 80, 0.8))":"none"},onMouseEnter:()=>v(e,!0),onMouseLeave:()=>v(e,!1),children:e.emoji},e.id)),d&&r.jsx(X,{sx:{position:"absolute",top:16,left:16,minWidth:200,maxWidth:300,zIndex:1e3,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",borderRadius:2,border:"2px solid #4caf50",backdropFilter:"blur(8px)",backgroundColor:x.palette.mode==="dark"?"rgba(20, 40, 20, 0.95)":"rgba(232, 245, 232, 0.95)"},children:r.jsxs(Y,{sx:{p:2},children:[r.jsxs(b,{variant:"subtitle1",fontWeight:"bold",sx:{color:x.palette.mode==="dark"?"#81C784":"#4caf50"},children:["üêë ",d.title]}),r.jsx(b,{variant:"body2",sx:{mt:1,color:x.palette.mode==="dark"?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.6)"},children:d.description}),r.jsxs(c,{sx:{mt:1,display:"flex",alignItems:"center",gap:1},children:[r.jsxs(b,{variant:"caption",sx:{color:x.palette.mode==="dark"?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.8)"},children:["ÏßÑÌñâÎ•†: ",d.progress,"%"]}),r.jsx(c,{sx:{flex:1,height:4,backgroundColor:"rgba(76, 175, 80, 0.2)",borderRadius:2,overflow:"hidden"},children:r.jsx(c,{sx:{height:"100%",width:`${d.progress}%`,backgroundColor:"#4caf50",transition:"width 0.3s ease"}})})]})]})})]})};export{q as default};
