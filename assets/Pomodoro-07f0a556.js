import{r as p,aL as jo,bB as xt,bC as So,aJ as qt,bx as yo,bc as Ft,bd as Pt,be as Nt,$ as C,bD as Et,Y as To,Z as ko,a3 as nt,j as e,_ as Ye,a6 as Ae,bv as Zt,bw as eo,a0 as to,bE as co,a1 as wo,bA as Io,a2 as Co,bg as Le,a7 as Po,c as Eo,u as Lo,J as Ao,bF as $o,bG as Mo,bH as Do,bI as Ro,b as Fo,a8 as Ve,a9 as oo,aF as Bt,B as H,T as A,S as No,C as yt,a as Tt,bJ as Bo,i as be,ag as rt,ah as st,ai as at,X as m,L as Oo,p as _o,h as zo,A as ro,U as Wo,bK as Ho,ar as Vo,z as Yo,aB as Uo,v as Jo,aC as Xo,D as Ot,e as _t,f as zt,V as ft,k as Wt,aa as so}from"./index-fc0e3f91.js";import{A as Ht}from"./Add-97b0121a.js";import{F as Ko}from"./FormControlLabel-4aefe78f.js";import{C as Go}from"./Checkbox-1db6aac8.js";import"./SwitchBase-f121d878.js";const Qo={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},qo=Qo;function Zo(t,a,i=(h,v)=>h===v){return t.length===a.length&&t.every((h,v)=>i(h,a[v]))}const er=2;function uo(t,a){return t-a}function ao(t,a){var i;const{index:h}=(i=t.reduce((v,B,V)=>{const L=Math.abs(a-B);return v===null||L<v.distance||L===v.distance?{distance:L,index:V}:v},null))!=null?i:{};return h}function kt(t,a){if(a.current!==void 0&&t.changedTouches){const i=t;for(let h=0;h<i.changedTouches.length;h+=1){const v=i.changedTouches[h];if(v.identifier===a.current)return{x:v.clientX,y:v.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Lt(t,a,i){return(t-a)*100/(i-a)}function tr(t,a,i){return(i-a)*t+a}function or(t){if(Math.abs(t)<1){const i=t.toExponential().split("e-"),h=i[0].split(".")[1];return(h?h.length:0)+parseInt(i[1],10)}const a=t.toString().split(".")[1];return a?a.length:0}function rr(t,a,i){const h=Math.round((t-i)/a)*a+i;return Number(h.toFixed(or(a)))}function no({values:t,newValue:a,index:i}){const h=t.slice();return h[i]=a,h.sort(uo)}function wt({sliderRef:t,activeIndex:a,setActive:i}){var h,v;const B=Pt(t.current);if(!((h=t.current)!=null&&h.contains(B.activeElement))||Number(B==null||(v=B.activeElement)==null?void 0:v.getAttribute("data-index"))!==a){var V;(V=t.current)==null||V.querySelector(`[type="range"][data-index="${a}"]`).focus()}i&&i(a)}function It(t,a){return typeof t=="number"&&typeof a=="number"?t===a:typeof t=="object"&&typeof a=="object"?Zo(t,a):!1}const sr={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},ar=t=>t;let Ct;function lo(){return Ct===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ct=CSS.supports("touch-action","none"):Ct=!0),Ct}function nr(t){const{"aria-labelledby":a,defaultValue:i,disabled:h=!1,disableSwap:v=!1,isRtl:B=!1,marks:V=!1,max:L=100,min:E=0,name:le,onChange:ve,onChangeCommitted:ie,orientation:$e="horizontal",rootRef:lt,scale:Me=ar,step:te=1,shiftStep:De=10,tabIndex:Re,value:xe}=t,Y=p.useRef(void 0),[Te,G]=p.useState(-1),[Q,ge]=p.useState(-1),[Ue,Fe]=p.useState(!1),je=p.useRef(0),[oe,R]=jo({controlled:xe,default:i??E,name:"Slider"}),_=ve&&((n,l,d)=>{const S=n.nativeEvent||n,b=new S.constructor(S.type,S);Object.defineProperty(b,"target",{writable:!0,value:{value:l,name:le}}),ve(b,l,d)}),k=Array.isArray(oe);let $=k?oe.slice().sort(uo):[oe];$=$.map(n=>n==null?E:xt(n,E,L));const M=V===!0&&te!==null?[...Array(Math.floor((L-E)/te)+1)].map((n,l)=>({value:E+te*l})):V||[],P=M.map(n=>n.value),{isFocusVisibleRef:I,onBlur:Ne,onFocus:x,ref:fe}=So(),[w,U]=p.useState(-1),q=p.useRef(null),Je=qt(fe,q),Z=qt(lt,Je),re=n=>l=>{var d;const S=Number(l.currentTarget.getAttribute("data-index"));x(l),I.current===!0&&U(S),ge(S),n==null||(d=n.onFocus)==null||d.call(n,l)},J=n=>l=>{var d;Ne(l),I.current===!1&&U(-1),ge(-1),n==null||(d=n.onBlur)==null||d.call(n,l)},Se=(n,l)=>{const d=Number(n.currentTarget.getAttribute("data-index")),S=$[d],b=P.indexOf(S);let g=l;if(M&&te==null){const W=P[P.length-1];g>W?g=W:g<P[0]?g=P[0]:g=g<S?P[b-1]:P[b+1]}if(g=xt(g,E,L),k){v&&(g=xt(g,$[d-1]||-1/0,$[d+1]||1/0));const W=g;g=no({values:$,newValue:g,index:d});let ae=d;v||(ae=g.indexOf(W)),wt({sliderRef:q,activeIndex:ae})}R(g),U(d),_&&!It(g,oe)&&_(n,g,d),ie&&ie(n,g)},it=n=>l=>{var d;if(te!==null){const S=Number(l.currentTarget.getAttribute("data-index")),b=$[S];let g=null;(l.key==="ArrowLeft"||l.key==="ArrowDown")&&l.shiftKey||l.key==="PageDown"?g=Math.max(b-De,E):((l.key==="ArrowRight"||l.key==="ArrowUp")&&l.shiftKey||l.key==="PageUp")&&(g=Math.min(b+De,L)),g!==null&&(Se(l,g),l.preventDefault())}n==null||(d=n.onKeyDown)==null||d.call(n,l)};yo(()=>{if(h&&q.current.contains(document.activeElement)){var n;(n=document.activeElement)==null||n.blur()}},[h]),h&&Te!==-1&&G(-1),h&&w!==-1&&U(-1);const Xe=n=>l=>{var d;(d=n.onChange)==null||d.call(n,l),Se(l,l.target.valueAsNumber)},ke=p.useRef(void 0);let se=$e;B&&$e==="horizontal"&&(se+="-reverse");const f=({finger:n,move:l=!1})=>{const{current:d}=q,{width:S,height:b,bottom:g,left:W}=d.getBoundingClientRect();let ae;se.indexOf("vertical")===0?ae=(g-n.y)/b:ae=(n.x-W)/S,se.indexOf("-reverse")!==-1&&(ae=1-ae);let j;if(j=tr(ae,E,L),te)j=rr(j,te,E);else{const ye=ao(P,j);j=P[ye]}j=xt(j,E,L);let O=0;if(k){l?O=ke.current:O=ao($,j),v&&(j=xt(j,$[O-1]||-1/0,$[O+1]||1/0));const ye=j;j=no({values:$,newValue:j,index:O}),v&&l||(O=j.indexOf(ye),ke.current=O)}return{newValue:j,activeIndex:O}},y=Ft(n=>{const l=kt(n,Y);if(!l)return;if(je.current+=1,n.type==="mousemove"&&n.buttons===0){X(n);return}const{newValue:d,activeIndex:S}=f({finger:l,move:!0});wt({sliderRef:q,activeIndex:S,setActive:G}),R(d),!Ue&&je.current>er&&Fe(!0),_&&!It(d,oe)&&_(n,d,S)}),X=Ft(n=>{const l=kt(n,Y);if(Fe(!1),!l)return;const{newValue:d}=f({finger:l,move:!0});G(-1),n.type==="touchend"&&ge(-1),ie&&ie(n,d),Y.current=void 0,K()}),ce=Ft(n=>{if(h)return;lo()||n.preventDefault();const l=n.changedTouches[0];l!=null&&(Y.current=l.identifier);const d=kt(n,Y);if(d!==!1){const{newValue:b,activeIndex:g}=f({finger:d});wt({sliderRef:q,activeIndex:g,setActive:G}),R(b),_&&!It(b,oe)&&_(n,b,g)}je.current=0;const S=Pt(q.current);S.addEventListener("touchmove",y,{passive:!0}),S.addEventListener("touchend",X,{passive:!0})}),K=p.useCallback(()=>{const n=Pt(q.current);n.removeEventListener("mousemove",y),n.removeEventListener("mouseup",X),n.removeEventListener("touchmove",y),n.removeEventListener("touchend",X)},[X,y]);p.useEffect(()=>{const{current:n}=q;return n.addEventListener("touchstart",ce,{passive:lo()}),()=>{n.removeEventListener("touchstart",ce),K()}},[K,ce]),p.useEffect(()=>{h&&K()},[h,K]);const Ke=n=>l=>{var d;if((d=n.onMouseDown)==null||d.call(n,l),h||l.defaultPrevented||l.button!==0)return;l.preventDefault();const S=kt(l,Y);if(S!==!1){const{newValue:g,activeIndex:W}=f({finger:S});wt({sliderRef:q,activeIndex:W,setActive:G}),R(g),_&&!It(g,oe)&&_(l,g,W)}je.current=0;const b=Pt(q.current);b.addEventListener("mousemove",y,{passive:!0}),b.addEventListener("mouseup",X)},N=Lt(k?$[0]:E,E,L),ee=Lt($[$.length-1],E,L)-N,we=(n={})=>{const l=Nt(n),d={onMouseDown:Ke(l||{})},S=C({},l,d);return C({},n,{ref:Z},S)},z=n=>l=>{var d;(d=n.onMouseOver)==null||d.call(n,l);const S=Number(l.currentTarget.getAttribute("data-index"));ge(S)},Ie=n=>l=>{var d;(d=n.onMouseLeave)==null||d.call(n,l),ge(-1)};return{active:Te,axis:se,axisProps:sr,dragging:Ue,focusedThumbIndex:w,getHiddenInputProps:(n={})=>{var l;const d=Nt(n),S={onChange:Xe(d||{}),onFocus:re(d||{}),onBlur:J(d||{}),onKeyDown:it(d||{})},b=C({},d,S);return C({tabIndex:Re,"aria-labelledby":a,"aria-orientation":$e,"aria-valuemax":Me(L),"aria-valuemin":Me(E),name:le,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(l=t.step)!=null?l:void 0,disabled:h},n,b,{style:C({},qo,{direction:B?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:we,getThumbProps:(n={})=>{const l=Nt(n),d={onMouseOver:z(l||{}),onMouseLeave:Ie(l||{})};return C({},n,l,d)},marks:M,open:Q,range:k,rootRef:Z,trackLeap:ee,trackOffset:N,values:$,getThumbStyle:n=>({pointerEvents:Te!==-1&&Te!==n?"none":void 0})}}const lr=t=>!t||!Et(t),ir=lr;function cr(t){return ko("MuiSlider",t)}const dr=To("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ne=dr,ur=t=>{const{open:a}=t;return{offset:nt(a&&ne.valueLabelOpen),circle:ne.valueLabelCircle,label:ne.valueLabelLabel}};function pr(t){const{children:a,className:i,value:h}=t,v=ur(t);return a?p.cloneElement(a,{className:nt(a.props.className)},e.jsxs(p.Fragment,{children:[a.props.children,e.jsx("span",{className:nt(v.offset,i),"aria-hidden":!0,children:e.jsx("span",{className:v.circle,children:e.jsx("span",{className:v.label,children:h})})})]})):null}const mr=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function io(t){return t}const hr=Ye("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:i}=t;return[a.root,a[`color${Ae(i.color)}`],i.size!=="medium"&&a[`size${Ae(i.size)}`],i.marked&&a.marked,i.orientation==="vertical"&&a.vertical,i.track==="inverted"&&a.trackInverted,i.track===!1&&a.trackFalse]}})(({theme:t})=>{var a;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${ne.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${ne.dragging}`]:{[`& .${ne.thumb}, & .${ne.track}`]:{transition:"none"}},variants:[...Object.keys(((a=t.vars)!=null?a:t).palette).filter(i=>{var h;return((h=t.vars)!=null?h:t).palette[i].main}).map(i=>({props:{color:i},style:{color:(t.vars||t).palette[i].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),xr=Ye("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,a)=>a.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),fr=Ye("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,a)=>a.track})(({theme:t})=>{var a;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((a=t.vars)!=null?a:t).palette).filter(i=>{var h;return((h=t.vars)!=null?h:t).palette[i].main}).map(i=>({props:{color:i,track:"inverted"},style:C({},t.vars?{backgroundColor:t.vars.palette.Slider[`${i}Track`],borderColor:t.vars.palette.Slider[`${i}Track`]}:C({backgroundColor:Zt(t.palette[i].main,.62),borderColor:Zt(t.palette[i].main,.62)},t.applyStyles("dark",{backgroundColor:eo(t.palette[i].main,.5)}),t.applyStyles("dark",{borderColor:eo(t.palette[i].main,.5)})))}))]}}),br=Ye("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,a)=>{const{ownerState:i}=t;return[a.thumb,a[`thumbColor${Ae(i.color)}`],i.size!=="medium"&&a[`thumbSize${Ae(i.size)}`]]}})(({theme:t})=>{var a;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${ne.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((a=t.vars)!=null?a:t).palette).filter(i=>{var h;return((h=t.vars)!=null?h:t).palette[i].main}).map(i=>({props:{color:i},style:{[`&:hover, &.${ne.focusVisible}`]:C({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${to(t.palette[i].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${ne.active}`]:C({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${to(t.palette[i].main,.16)}`})}}))]}}),vr=Ye(pr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,a)=>a.valueLabel})(({theme:t})=>C({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${ne.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${ne.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),gr=Ye("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>co(t)&&t!=="markActive",overridesResolver:(t,a)=>{const{markActive:i}=t;return[a.mark,i&&a.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),jr=Ye("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>co(t)&&t!=="markLabelActive",overridesResolver:(t,a)=>a.markLabel})(({theme:t})=>C({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),Sr=t=>{const{disabled:a,dragging:i,marked:h,orientation:v,track:B,classes:V,color:L,size:E}=t,le={root:["root",a&&"disabled",i&&"dragging",h&&"marked",v==="vertical"&&"vertical",B==="inverted"&&"trackInverted",B===!1&&"trackFalse",L&&`color${Ae(L)}`,E&&`size${Ae(E)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",a&&"disabled",E&&`thumbSize${Ae(E)}`,L&&`thumbColor${Ae(L)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Po(le,cr,V)},yr=({children:t})=>t,Tr=p.forwardRef(function(a,i){var h,v,B,V,L,E,le,ve,ie,$e,lt,Me,te,De,Re,xe,Y,Te,G,Q,ge,Ue,Fe,je;const oe=wo({props:a,name:"MuiSlider"}),R=Io(),{"aria-label":_,"aria-valuetext":k,"aria-labelledby":$,component:M="span",components:P={},componentsProps:I={},color:Ne="primary",classes:x,className:fe,disableSwap:w=!1,disabled:U=!1,getAriaLabel:q,getAriaValueText:Je,marks:Z=!1,max:re=100,min:J=0,orientation:Se="horizontal",shiftStep:it=10,size:Xe="medium",step:ke=1,scale:se=io,slotProps:f,slots:y,track:X="normal",valueLabelDisplay:ce="off",valueLabelFormat:K=io}=oe,Ke=Co(oe,mr),N=C({},oe,{isRtl:R,max:re,min:J,classes:x,disabled:U,disableSwap:w,orientation:Se,marks:Z,color:Ne,size:Xe,step:ke,shiftStep:it,scale:se,track:X,valueLabelDisplay:ce,valueLabelFormat:K}),{axisProps:ee,getRootProps:we,getHiddenInputProps:z,getThumbProps:Ie,open:Ce,active:de,axis:Be,focusedThumbIndex:n,range:l,dragging:d,marks:S,values:b,trackOffset:g,trackLeap:W,getThumbStyle:ae}=nr(C({},N,{rootRef:i}));N.marked=S.length>0&&S.some(D=>D.label),N.dragging=d,N.focusedThumbIndex=n;const j=Sr(N),O=(h=(v=y==null?void 0:y.root)!=null?v:P.Root)!=null?h:hr,ye=(B=(V=y==null?void 0:y.rail)!=null?V:P.Rail)!=null?B:xr,Ge=(L=(E=y==null?void 0:y.track)!=null?E:P.Track)!=null?L:fr,ct=(le=(ve=y==null?void 0:y.thumb)!=null?ve:P.Thumb)!=null?le:br,Qe=(ie=($e=y==null?void 0:y.valueLabel)!=null?$e:P.ValueLabel)!=null?ie:vr,qe=(lt=(Me=y==null?void 0:y.mark)!=null?Me:P.Mark)!=null?lt:gr,Oe=(te=(De=y==null?void 0:y.markLabel)!=null?De:P.MarkLabel)!=null?te:jr,dt=(Re=(xe=y==null?void 0:y.input)!=null?xe:P.Input)!=null?Re:"input",_e=(Y=f==null?void 0:f.root)!=null?Y:I.root,bt=(Te=f==null?void 0:f.rail)!=null?Te:I.rail,Pe=(G=f==null?void 0:f.track)!=null?G:I.track,Ze=(Q=f==null?void 0:f.thumb)!=null?Q:I.thumb,et=(ge=f==null?void 0:f.valueLabel)!=null?ge:I.valueLabel,vt=(Ue=f==null?void 0:f.mark)!=null?Ue:I.mark,ze=(Fe=f==null?void 0:f.markLabel)!=null?Fe:I.markLabel,gt=(je=f==null?void 0:f.input)!=null?je:I.input,tt=Le({elementType:O,getSlotProps:we,externalSlotProps:_e,externalForwardedProps:Ke,additionalProps:C({},ir(O)&&{as:M}),ownerState:C({},N,_e==null?void 0:_e.ownerState),className:[j.root,fe]}),ue=Le({elementType:ye,externalSlotProps:bt,ownerState:N,className:j.rail}),jt=Le({elementType:Ge,externalSlotProps:Pe,additionalProps:{style:C({},ee[Be].offset(g),ee[Be].leap(W))},ownerState:C({},N,Pe==null?void 0:Pe.ownerState),className:j.track}),ut=Le({elementType:ct,getSlotProps:Ie,externalSlotProps:Ze,ownerState:C({},N,Ze==null?void 0:Ze.ownerState),className:j.thumb}),St=Le({elementType:Qe,externalSlotProps:et,ownerState:C({},N,et==null?void 0:et.ownerState),className:j.valueLabel}),pt=Le({elementType:qe,externalSlotProps:vt,ownerState:N,className:j.mark}),We=Le({elementType:Oe,externalSlotProps:ze,ownerState:N,className:j.markLabel}),mt=Le({elementType:dt,getSlotProps:z,externalSlotProps:gt,ownerState:N});return e.jsxs(O,C({},tt,{children:[e.jsx(ye,C({},ue)),e.jsx(Ge,C({},jt)),S.filter(D=>D.value>=J&&D.value<=re).map((D,F)=>{const ht=Lt(D.value,J,re),ot=ee[Be].offset(ht);let pe;return X===!1?pe=b.indexOf(D.value)!==-1:pe=X==="normal"&&(l?D.value>=b[0]&&D.value<=b[b.length-1]:D.value<=b[0])||X==="inverted"&&(l?D.value<=b[0]||D.value>=b[b.length-1]:D.value>=b[0]),e.jsxs(p.Fragment,{children:[e.jsx(qe,C({"data-index":F},pt,!Et(qe)&&{markActive:pe},{style:C({},ot,pt.style),className:nt(pt.className,pe&&j.markActive)})),D.label!=null?e.jsx(Oe,C({"aria-hidden":!0,"data-index":F},We,!Et(Oe)&&{markLabelActive:pe},{style:C({},ot,We.style),className:nt(j.markLabel,We.className,pe&&j.markLabelActive),children:D.label})):null]},F)}),b.map((D,F)=>{const ht=Lt(D,J,re),ot=ee[Be].offset(ht),pe=ce==="off"?yr:Qe;return e.jsx(pe,C({},!Et(pe)&&{valueLabelFormat:K,valueLabelDisplay:ce,value:typeof K=="function"?K(se(D),F):K,index:F,open:Ce===F||de===F||ce==="on",disabled:U},St,{children:e.jsx(ct,C({"data-index":F},ut,{className:nt(j.thumb,ut.className,de===F&&j.active,n===F&&j.focusVisible),style:C({},ot,ae(F),ut.style),children:e.jsx(dt,C({"data-index":F,"aria-label":q?q(F):_,"aria-valuenow":se(D),"aria-labelledby":$,"aria-valuetext":Je?Je(se(D),F):k,value:b[F]},mt))}))}),F)})]}))}),kr=Tr,wr=Eo(e.jsx("path",{d:"m2 22 14-5-9-9zm12.53-9.47 5.59-5.59c.49-.49 1.28-.49 1.77 0l.59.59 1.06-1.06-.59-.59c-1.07-1.07-2.82-1.07-3.89 0l-5.59 5.59zm-4.47-5.65-.59.59 1.06 1.06.59-.59c1.07-1.07 1.07-2.82 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76m7 5-1.59 1.59 1.06 1.06 1.59-1.59c.49-.49 1.28-.49 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61c-1.08-1.07-2.82-1.07-3.89 0m-2-6-3.59 3.59 1.06 1.06 3.59-3.59c1.07-1.07 1.07-2.82 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77"}),"Celebration"),Ar=({themeConfig:t})=>{var Jt,Xt,Kt,Gt,Qt;const a=Lo(),i=Ao(a.breakpoints.down("md")),h=$o(t),v=Mo(t);Do(t);const{isActive:B,time:V,totalTime:L,selectedProject:E,selectedTask:le,isBreak:ve,completedSessions:ie,sessionStartTime:$e,currentSessionId:lt,startTimer:Me,pauseTimer:te,resetTimer:De,setTime:Re,setProject:xe,setTask:Y,setIsBreak:Te}=Ro(),{epics:G,projects:Q,getTodosByProjectId:ge,getEpicById:Ue,addEpic:Fe,addProject:je,refreshFirebaseData:oe}=Fo(),[R,_]=p.useState(B),[k,$]=p.useState(Math.floor(L/60)),[M,P]=p.useState(V),[I,Ne]=p.useState(null),[x,fe]=p.useState(E),[w,U]=p.useState(le),[q,Je]=p.useState([]),[Z,re]=p.useState({}),[J,Se]=p.useState(ve),[it,Xe]=p.useState(ie),[ke,se]=p.useState([]),f=p.useRef(null),y=p.useRef(0),X=p.useRef(0),[ce,K]=p.useState({x:50,y:50}),[Ke,N]=p.useState([]),[ee,we]=p.useState(null),[z,Ie]=p.useState(null),[Ce,de]=p.useState(null),[Be,n]=p.useState(!1),[l,d]=p.useState(null),[S,b]=p.useState(!1),[g,W]=p.useState(!1),[ae,j]=p.useState(!1),[O,ye]=p.useState(""),[Ge,ct]=p.useState(""),[Qe,qe]=p.useState("🎯"),[Oe,dt]=p.useState("#FF6B6B"),[_e,bt]=p.useState("medium"),[Pe,Ze]=p.useState(""),[et,vt]=p.useState(""),[ze,gt]=p.useState(""),tt=p.useRef(null),ue=p.useRef(!1),jt="recentPomodoroEpicProjectCombinations",ut=()=>{try{const o=localStorage.getItem(jt);if(o){const r=JSON.parse(o);se(r.slice(0,3))}}catch(o){console.error("최근 조합 로드 실패:",o)}},St=(o,r)=>{const s=G.find(T=>T.id===o),c=Q.find(T=>T.id===r);if(!s||!c)return;const u={id:`${o}-${r}`,epicId:o,epicTitle:s.title,epicEmoji:s.emoji||"🎯",projectId:r,projectTitle:c.title,lastUsed:new Date().toISOString()};try{const me=[...ke].filter(Ee=>Ee.id!==u.id),he=[u,...me].slice(0,3);se(he),localStorage.setItem(jt,JSON.stringify(he))}catch(T){console.error("최근 조합 저장 실패:",T)}},pt=o=>{const r=G.find(c=>c.id===o.epicId),s=Q.find(c=>c.id===o.projectId);r&&s&&(Ne(r),fe(s),xe(s),U(null),Y(null),St(o.epicId,o.projectId))};p.useEffect(()=>{_(B),P(V),fe(E),U(le),Se(ve),Xe(ie),$(Math.floor(L/60))},[B,V,E,le,ve,ie,L]),p.useEffect(()=>{D(),F(),ut(),bo();try{tt.current=new Audio,tt.current.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZgdT32YorBjOH3vbYhTYEJYHU99uLNwgYgtD32YcrBTOH2vbYgzUEJYHW99uLNwgWgdD32YorBTOH2vbYgzQEJYPY99uLNwgXgdP32YcrBDOG2fXWgTYEJ4LS9dqMNwcUgNP32I0qBjOH3fVwKdOoAo+OgNT22I0qBjOE0/TUmzEGFYDO9dyIKwUzhdj42YYz6DOEz/TQjC8UgNP32IsyBjOH3fXYyDQODYHQ8teBONQ4HoPU9tyIrSoGLYHO9diJNwgZgdT32YorBmQ"}catch(me){console.warn("알림 사운드 초기화 실패:",me)}const o=()=>{document.hidden?(console.log("🎮 Pomodoro 페이지 비활성화 - 상태 저장"),He()):(console.log("🎮 Pomodoro 페이지 활성화 - 백그라운드 동기화 시작"),F(),setTimeout(()=>$t(),100))},r=()=>{console.log("🚪 페이지 종료 전 상태 저장"),He()},s=()=>{console.log("🔥 윈도우 포커스 - 동기화"),setTimeout(()=>$t(),100)},c=()=>{console.log("💤 윈도우 블러 - 상태 저장"),He()},u=()=>{console.log("📄 페이지 표시 - 동기화"),setTimeout(()=>$t(),100)},T=()=>{console.log("🙈 페이지 숨김 - 상태 저장"),He()};return document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",r),window.addEventListener("focus",s),window.addEventListener("blur",c),window.addEventListener("pageshow",u),window.addEventListener("pagehide",T),()=>{He(),document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",r),window.removeEventListener("focus",s),window.removeEventListener("blur",c),window.removeEventListener("pageshow",u),window.removeEventListener("pagehide",T)}},[]),p.useEffect(()=>{R||P(k*60)},[k,R]),p.useEffect(()=>{let o=null,r=null;return R&&M>0?(ue.current=!1,o=setInterval(()=>{P(s=>{const c=s-1,u=k*60,T=(u-c)/u*100;return mt(T),c})},1e3),r=setInterval(()=>{He()},5e3)):M===0&&(console.log(`⏰ 타이머 완료 감지! isActive: ${R}, time: ${M}, timerCompleted: ${ue.current}`),ue.current?console.log("⚠️ 이미 완료 처리됨 - 중복 실행 방지"):(console.log("🎯 handleTimerComplete 호출 시작!"),At())),()=>{o&&clearInterval(o),r&&clearInterval(r)}},[R,M,k]),p.useEffect(()=>{if(!R)return;const r=setInterval(()=>{const c=(k*60-M)/60*2*Math.PI,u=35,T=50,me=50,he=T+Math.cos(c-Math.PI/2)*u,Ee=me+Math.sin(c-Math.PI/2)*u;K({x:he,y:Ee})},100);return()=>clearInterval(r)},[R,M,k]),p.useEffect(()=>{We()},[k]);const We=()=>{const r=[];for(let s=0;s<60;s++)r.push({id:s,angle:s*360/60,filled:!1});N(r)},mt=o=>{const s=Math.floor(o/100*60);N(c=>c.map((u,T)=>({...u,filled:T<s})))},D=async()=>{try{const o=Ve();if(o){const r=await oo(o.uid,"projects");r.success&&r.data&&Je(r.data)}}catch(o){console.error("프로젝트 로드 실패:",o)}},F=async()=>{try{const o=Ve();if(o){const r=await oo(o.uid,"projectTodos");r.success&&r.data&&(console.log("🎮 Pomodoro: Firebase에서 할일 로드 성공:",r.data),re(r.data))}else{const r=localStorage.getItem("projectTodos");if(r){const s=JSON.parse(r);re(s)}}}catch(o){console.error("할일 로드 실패:",o);const r=localStorage.getItem("projectTodos");if(r){const s=JSON.parse(r);re(s)}}},ht=async()=>{if(console.log("🎯 handleCreateEpic 함수 호출됨!"),console.log("입력된 데이터:",{title:O,description:Ge,emoji:Qe,color:Oe,priority:_e}),!O.trim()){console.log("❌ 제목이 비어있음");return}const o=O.trim();if(G.find(s=>s.title.toLowerCase()===o.toLowerCase())){alert(`❌ 이미 "${o}" 이름의 에픽이 존재합니다.
다른 이름을 사용해주세요.`);return}b(!1);try{console.log("🚀 addEpic 호출 시작...");const s={title:o,description:Ge.trim()||"",emoji:Qe,color:Oe,priority:_e,status:"planning",startDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],tags:[]};console.log("📦 생성할 에픽 데이터:",s),await Fe(s),console.log("✅ addEpic 완료!"),setTimeout(()=>{const c=G.find(u=>u.title===o);c&&(Ne(c),console.log("🎯 생성된 에픽 자동 선택:",c.title))},300),ye(""),ct(""),qe("🎯"),dt("#FF6B6B"),bt("medium"),console.log("✅ 에픽 생성 완료!")}catch(s){console.error("❌ 에픽 생성 실패:",s),(s==null?void 0:s.code)==="resource-exhausted"?alert("❌ Firebase 일일 사용량을 초과했습니다. 내일 다시 시도해주세요."):alert(`에픽 생성 중 오류가 발생했습니다: ${(s==null?void 0:s.message)||s}`),b(!0)}},ot=async()=>{if(!Pe.trim())return;const o=Pe.trim();if((I?Q.filter(c=>c.epicId===I.id):Q).find(c=>c.title.toLowerCase()===o.toLowerCase())){alert(`❌ 이미 "${o}" 이름의 프로젝트가 존재합니다.
다른 이름을 사용해주세요.`);return}W(!1);try{console.log("🚀 프로젝트 생성 시작..."),await je({title:o,description:et.trim(),status:"active",priority:"medium",progress:0},I==null?void 0:I.id),setTimeout(()=>{const u=(I?Q.filter(T=>T.epicId===I.id):Q).find(T=>T.title===o);u&&(fe(u),xe(u),console.log("🎯 생성된 프로젝트 자동 선택:",u.title))},300),Ze(""),vt(""),console.log("✅ 프로젝트 생성 완료!")}catch(c){console.error("❌ 프로젝트 생성 실패:",c),(c==null?void 0:c.code)==="resource-exhausted"?alert("❌ Firebase 일일 사용량을 초과했습니다. 내일 다시 시도해주세요."):alert(`프로젝트 생성 중 오류가 발생했습니다: ${(c==null?void 0:c.message)||c}`),W(!0)}},pe=async()=>{var s,c;if(console.log("🚀 handleCreateTask 호출됨!"),console.log("입력 데이터:",{newTaskTitle:ze,selectedProject:x==null?void 0:x.title,projectId:x==null?void 0:x.id}),!ze.trim()||!x){console.log("❌ 테스크 제목이 비어있거나 프로젝트가 선택되지 않음");return}j(!1);const o=Ve();if(!o){console.log("❌ 사용자 정보 없음");return}const r={id:`task_${Date.now()}`,title:ze.trim(),completed:!1,createdAt:new Date().toISOString()};try{console.log("🚀 테스크 생성 시작..."),console.log("생성할 테스크:",r),console.log("현재 projectTodos 상태:",Z),console.log("선택된 프로젝트의 기존 테스크들:",Z[x.id]||[]);const u={...Z,[x.id]:[...Z[x.id]||[],r]};console.log("업데이트될 projectTodos:",u);const T=await so(o.uid,"projectTodos",u);console.log("Firebase 저장 결과:",T),T.success?(console.log("✅ Firebase 저장 성공! 로컬 상태 업데이트 시작..."),re(u),U(r),Y(r),console.log("🎯 생성된 테스크 자동 선택:",r.title),gt(""),console.log("✅ 테스크 생성 완료!"),setTimeout(()=>{console.log("📊 업데이트 후 projectTodos 상태:",u);const me=(u[x.id]||[]).filter(he=>!he.completed);console.log("📊 업데이트 후 availableTasks:",me)},100)):(console.error("❌ Firebase 저장 실패:",T),((s=T.error)==null?void 0:s.code)==="resource-exhausted"?alert("❌ Firebase 일일 사용량을 초과했습니다. 내일 다시 시도해주세요."):alert(`테스크 저장 중 오류가 발생했습니다: ${((c=T.error)==null?void 0:c.message)||T.error}`),j(!0))}catch(u){console.error("❌ 테스크 생성 실패:",u),(u==null?void 0:u.code)==="resource-exhausted"?alert("❌ Firebase 일일 사용량을 초과했습니다. 내일 다시 시도해주세요."):alert(`테스크 생성 중 오류가 발생했습니다: ${(u==null?void 0:u.message)||u}`),j(!0)}},po=async o=>{if(!x)return;const r=Ve();if(r)try{const s={...Z,[x.id]:Z[x.id].map(u=>u.id===o.id?{...u,completed:!u.completed}:u)};(await so(r.uid,"projectTodos",s)).success&&(re(s),(w==null?void 0:w.id)===o.id&&!o.completed&&U(null))}catch(s){console.error("테스크 상태 업데이트 실패:",s)}},mo=o=>{const r=Math.floor(o/60),s=o%60;return`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},ho=()=>{if(!x||!w){alert("프로젝트와 작업을 선택해주세요!");return}if(I&&x&&St(I.id,x.id),xe(x),Y(w),Re(k),!Me()){alert("타이머 시작에 실패했습니다. 프로젝트와 작업을 다시 확인해주세요.");return}_(!0);const r=Date.now(),s=new Date().toISOString(),c=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;we(s),Ie(c),de(null),ue.current=!1,f.current=r,y.current=M,X.current=r,We(),setTimeout(()=>He(),100),console.log(`⏰ 타이머 시작: ${M}초 (${Math.floor(M/60)}분 ${M%60}초), 세션 ID: ${c}`)},xo=()=>{var o;if(te(),f.current){const r=Date.now(),s=Math.floor((r-f.current)/1e3),c=Math.max(0,y.current-s);if(console.log(`⏸️ 타이머 일시정지: ${s}초 경과, ${c}초 남음`),s>0&&z&&Ce!==z&&ee&&x&&w){const u=Math.round(s/60*100)/100;Bt(((o=Ve())==null?void 0:o.uid)||"",{projectId:x.id,projectTitle:x.title,taskId:w.id,taskTitle:w.title,sessionType:J?"break":"work",duration:k,actualDuration:u,startTime:ee,endTime:new Date().toISOString(),completed:!1}),de(z)}P(c)}_(!1),f.current=null,y.current=0,localStorage.removeItem("pomodoroTimerState")},Vt=()=>{var s;De();const o=R,r=f.current?Math.floor((Date.now()-f.current)/1e3):0;if(o&&r>0&&z&&Ce!==z&&ee&&x&&w){const c=Math.round(r/60*100)/100;Bt(((s=Ve())==null?void 0:s.uid)||"",{projectId:x.id,projectTitle:x.title,taskId:w.id,taskTitle:w.title,sessionType:J?"break":"work",duration:k,actualDuration:c,startTime:ee,endTime:new Date().toISOString(),completed:!1}),de(z)}_(!1),P(k*60),we(null),Ie(null),de(null),ue.current=!1,K({x:50,y:50}),f.current=null,y.current=0,X.current=0,localStorage.removeItem("pomodoroTimerState"),We(),console.log("🔄 타이머 리셋")},fo=()=>{try{if("Notification"in window&&Notification.permission==="granted"&&new Notification("🎉 뽀모도로 완료!",{body:`${k}분 집중 완료! 수고하셨어요!`,icon:"/favicon.ico"}),tt.current)for(let c=0;c<3;c++)setTimeout(()=>{var u;(u=tt.current)==null||u.play().catch(T=>console.warn("사운드 재생 실패:",T))},c*200);"vibrate"in navigator&&navigator.vibrate([500,200,500,200,500]);let o=0;const r=document.title,s=setInterval(()=>{document.title=o%2===0?"🎉 완료! 🎉":r,o++,o>10&&(clearInterval(s),document.title=r)},500)}catch(o){console.warn("알림 재생 실패:",o)}},At=async()=>{if(ue.current){console.log("⚠️ handleTimerComplete 중복 실행 차단!");return}ue.current=!0,console.log("🎯 handleTimerComplete 실행 시작");const o=f.current?Math.floor((Date.now()-f.current)/1e3):k*60,r=Math.round(o/60*100)/100;if(_(!1),fo(),z&&Ce!==z&&ee&&x&&w)try{const s=Ve();if(s){console.log(`💾 세션 저장 시도: ${z}`);const c={projectId:x.id,projectTitle:x.title,taskId:w.id,taskTitle:w.title,sessionType:J?"break":"work",duration:k,actualDuration:r,startTime:ee,endTime:new Date().toISOString(),completed:!0};(await Bt(s.uid,c)).success&&(de(z),console.log(`✅ 세션 저장 완료: ${z}`),d({projectTitle:x.title,taskTitle:w.title,sessionType:J?"휴식":"집중",duration:k,actualMinutes:r}),n(!0),setTimeout(()=>n(!1),5e3))}}catch(s){console.error("뽀모도로 세션 저장 중 오류:",s)}else x&&w&&(console.log(`⚠️ 이미 저장된 세션: ${z} (savedSessionId: ${Ce})`),d({projectTitle:x.title,taskTitle:w.title,sessionType:J?"휴식":"집중",duration:k,actualMinutes:r}),n(!0),setTimeout(()=>n(!1),5e3));if(J)Se(!1),$(25),P(25*60),ue.current=!1;else{Xe(c=>c+1),Se(!0);const s=Math.max(5,Math.floor(k/5));$(s),P(s*60),ue.current=!1}f.current=null,y.current=0,X.current=0,Ie(null),de(null),localStorage.removeItem("pomodoroTimerState"),we(null),console.log(`✅ 타이머 완료: ${r}분 경과`)};p.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const He=()=>{if(R&&f.current){const o={isActive:R,startTime:f.current,totalDuration:y.current,currentTime:M,selectedMinutes:k,sessionStartTime:ee,isBreak:J,selectedProjectId:x==null?void 0:x.id,selectedTaskId:w==null?void 0:w.id,selectedProjectTitle:x==null?void 0:x.title,selectedTaskTitle:w==null?void 0:w.title,currentSessionId:z,savedSessionId:Ce,timestamp:Date.now()};localStorage.setItem("pomodoroTimerState",JSON.stringify(o)),console.log("⏰ 뽀모도로 상태 저장됨 - 남은시간:",Math.floor(M/60),"분",M%60,"초")}},bo=()=>{try{const o=localStorage.getItem("pomodoroTimerState");if(!o)return;const r=JSON.parse(o),s=Date.now();if(s-r.timestamp>2*60*60*1e3){localStorage.removeItem("pomodoroTimerState");return}if(r.isActive&&r.startTime){const c=Math.floor((s-r.startTime)/1e3),u=Math.max(0,r.totalDuration-c);if(u>0){r.selectedProjectId&&r.selectedProjectTitle&&fe({id:r.selectedProjectId,title:r.selectedProjectTitle,description:"",status:"active",priority:"medium",progress:0,tasks:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),r.selectedTaskId&&r.selectedTaskTitle&&U({id:r.selectedTaskId,title:r.selectedTaskTitle,completed:!1,createdAt:new Date().toISOString()}),_(!0),P(u),$(r.selectedMinutes),we(r.sessionStartTime),Se(r.isBreak),Ie(r.currentSessionId||null),de(r.savedSessionId||null),f.current=r.startTime,y.current=r.totalDuration,X.current=s;const T=(r.totalDuration-u)/r.totalDuration*100;mt(T);const he=(r.selectedMinutes*60-u)/60*2*Math.PI,Ee=35,Dt=50,Rt=50,vo=Dt+Math.cos(he-Math.PI/2)*Ee,go=Rt+Math.sin(he-Math.PI/2)*Ee;K({x:vo,y:go}),console.log(`⏰ 뽀모도로 상태 복원 성공: ${Math.floor(u/60)}분 ${u%60}초 남음`)}else localStorage.removeItem("pomodoroTimerState"),At()}}catch(o){console.error("뽀모도로 상태 복원 실패:",o),localStorage.removeItem("pomodoroTimerState")}},$t=()=>{if(R&&f.current){const o=Date.now(),r=Math.floor((o-f.current)/1e3),s=Math.max(0,y.current-r);if(console.log(`⏰ 백그라운드 동기화: ${r}초 경과, 남은 시간: ${Math.floor(s/60)}분 ${s%60}초`),P(s),s<=0)localStorage.removeItem("pomodoroTimerState"),At();else{const c=(y.current-s)/y.current*100;mt(c);const T=(k*60-s)/60*2*Math.PI,me=35,he=50,Ee=50,Dt=he+Math.cos(T-Math.PI/2)*me,Rt=Ee+Math.sin(T-Math.PI/2)*me;K({x:Dt,y:Rt})}}},Mt=x?(Z[x.id]||[]).filter(o=>!o.completed).map(o=>({id:o.id,title:o.title,completed:o.completed,createdAt:o.createdAt})):[],Yt=(k*60-M)/(k*60)*100,Ut=Ke.filter(o=>o.filled).length;return e.jsxs(H,{sx:{p:i?2:3},children:[e.jsxs(H,{sx:{mb:4},children:[e.jsx(A,{variant:i?"h5":"h4",fontWeight:"bold",gutterBottom:!0,sx:{WebkitBackgroundClip:"text",display:"flex",alignItems:"center",gap:1},children:"🧭 집중 여행"}),e.jsxs(A,{variant:"body1",color:"textSecondary",children:["집중할 시간을 선택하고 ",(Jt=t==null?void 0:t.concepts)==null?void 0:Jt.animal,"과 함께 집중해보세요! ",t==null?void 0:t.emoji,"⭐️"]})]}),e.jsxs(H,{sx:{display:"flex",flexDirection:i?"column":"row",gap:3},children:[e.jsx(No,{in:Be,children:e.jsx(yt,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,minWidth:i?300:400,background:h.background.gradient,color:"white",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:e.jsxs(Tt,{sx:{textAlign:"center",py:4},children:[e.jsx(wr,{sx:{fontSize:80,mb:2,color:"#FFD700"}}),e.jsx(A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"🎉 완료!"}),l&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{variant:"h6",sx:{mb:2,opacity:.9},children:[l.duration,"분 ",l.sessionType," 세션 완료",l.actualMinutes&&l.actualMinutes!==l.duration&&e.jsxs(A,{variant:"body2",sx:{opacity:.7,mt:.5},children:["(실제 ",l.actualMinutes,"분 집중)"]})]}),e.jsxs(H,{sx:{bgcolor:"rgba(255,255,255,0.2)",borderRadius:2,p:2,mb:2,backdropFilter:"blur(10px)"},children:[e.jsxs(A,{variant:"body1",fontWeight:"bold",children:["📁 ",l.projectTitle]}),e.jsxs(A,{variant:"body2",sx:{opacity:.8},children:["✅ ",l.taskTitle]})]}),e.jsx(A,{variant:"body2",sx:{opacity:.7},children:v.building.completionMessage})]})]})})}),e.jsx(yt,{sx:{flex:1,maxWidth:i?"100%":400},children:e.jsxs(Tt,{children:[e.jsxs(A,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Bo,{color:"primary"})," 작업 설정"]}),e.jsxs(H,{sx:{mb:3},children:[e.jsxs(A,{variant:"subtitle2",gutterBottom:!0,children:["집중 시간: ",k,"분"]}),e.jsx(kr,{value:k,onChange:(o,r)=>{$(r),Re(r)},min:1,max:99,step:1,disabled:R,marks:[{value:1,label:"1분"},{value:10,label:"10분"},{value:25,label:"25분"},{value:50,label:"50분"},{value:99,label:"99분"}],sx:{"& .MuiSlider-thumb":{background:h.border.color},"& .MuiSlider-track":{background:h.background.gradient}}})]}),ke.length>0&&e.jsxs(H,{sx:{mb:3},children:[e.jsx(A,{variant:"subtitle2",sx:{mb:1,color:a.palette.text.secondary},children:"🕐 최근 사용한 조합"}),e.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:1},children:ke.map(o=>e.jsx(be,{variant:"outlined",size:"small",onClick:()=>pt(o),sx:{justifyContent:"flex-start",textTransform:"none",borderRadius:2,border:`1px solid ${a.palette.divider}`,backgroundColor:a.palette.background.paper,color:a.palette.text.primary,"&:hover":{backgroundColor:a.palette.action.hover}},children:e.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[e.jsx(A,{sx:{fontSize:"1rem"},children:o.epicEmoji}),e.jsxs(H,{sx:{flex:1,textAlign:"left"},children:[e.jsx(A,{variant:"body2",sx:{fontWeight:"bold",lineHeight:1.2},children:o.epicTitle}),e.jsx(A,{variant:"caption",sx:{color:a.palette.text.secondary,lineHeight:1},children:o.projectTitle})]})]})},o.id))})]}),e.jsxs(rt,{fullWidth:!0,sx:{mb:2},children:[e.jsx(st,{children:"에픽 선택"}),e.jsxs(at,{value:(I==null?void 0:I.id)||"",label:"에픽 선택",onChange:o=>{if(o.target.value==="CREATE_NEW_EPIC"){b(!0);return}const r=G.find(s=>s.id===o.target.value);Ne(r||null),fe(null),xe(null),U(null),Y(null)},children:[e.jsx(m,{value:"",children:"에픽 없음"}),G.map(o=>e.jsxs(m,{value:o.id,children:[o.emoji," ",o.title]},o.id)),e.jsxs(m,{value:"CREATE_NEW_EPIC",sx:{borderTop:"1px solid",borderColor:"divider",mt:1,color:"primary.main",fontWeight:"bold"},children:[e.jsx(Ht,{sx:{mr:1}})," 새 에픽 만들기"]})]})]}),e.jsxs(rt,{fullWidth:!0,sx:{mb:2},children:[e.jsx(st,{children:"프로젝트 선택"}),e.jsxs(at,{value:(x==null?void 0:x.id)||"",label:"프로젝트 선택",onChange:o=>{if(o.target.value==="CREATE_NEW_PROJECT"){W(!0);return}const r=(I?Q.filter(s=>s.epicId===I.id):Q).find(s=>s.id===o.target.value);fe(r||null),xe(r||null),U(null),Y(null)},children:[(I?Q.filter(o=>o.epicId===I.id):Q).map(o=>e.jsx(m,{value:o.id,children:o.title},o.id)),e.jsxs(m,{value:"CREATE_NEW_PROJECT",sx:{borderTop:"1px solid",borderColor:"divider",mt:1,color:"primary.main",fontWeight:"bold"},children:[e.jsx(Ht,{sx:{mr:1}})," 새 프로젝트 만들기"]})]})]}),x&&e.jsxs(e.Fragment,{children:[e.jsxs(rt,{fullWidth:!0,sx:{mb:2},children:[e.jsx(st,{children:"태스크 선택"}),e.jsxs(at,{value:(w==null?void 0:w.id)||"",label:"태스크 선택",onChange:o=>{if(o.target.value==="CREATE_NEW_TASK"){j(!0);return}const r=Mt.find(s=>s.id===o.target.value);U(r||null),Y(r||null)},children:[Mt.map(o=>e.jsx(m,{value:o.id,children:o.title},o.id)),e.jsxs(m,{value:"CREATE_NEW_TASK",sx:{borderTop:"1px solid",borderColor:"divider",mt:1,color:"primary.main",fontWeight:"bold"},children:[e.jsx(Ht,{sx:{mr:1}})," 새 테스크 만들기"]})]})]}),((Xt=Z[x.id])==null?void 0:Xt.length)>0&&e.jsxs(H,{sx:{mb:2},children:[e.jsx(A,{variant:"subtitle2",gutterBottom:!0,children:"테스크 목록:"}),e.jsx(Oo,{dense:!0,children:Z[x.id].map(o=>e.jsx(_o,{sx:{px:0},children:e.jsx(Ko,{control:e.jsx(Go,{checked:o.completed,onChange:()=>po(o),size:"small"}),label:e.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(A,{variant:"body2",sx:{textDecoration:o.completed?"line-through":"none",opacity:o.completed?.6:1},children:o.title}),o.completed&&e.jsx(zo,{label:"완료",size:"small",color:"success"})]}),sx:{flex:1,m:0}})},o.id))})]})]}),x&&Mt.length===0&&e.jsx(ro,{severity:"info",sx:{mb:2},children:e.jsxs(A,{variant:"body2",children:["📝 완료되지 않은 테스크가 없어요!",e.jsx("br",{}),"새 테스크를 만들거나 ",(Kt=t==null?void 0:t.concepts)==null?void 0:Kt.projectType,"에서 할일을 추가해보세요!"," ",t==null?void 0:t.emoji]})}),e.jsx(ro,{severity:J?"info":"success",sx:{mb:2},children:J?"🌵 휴식 시간입니다!":`${t==null?void 0:t.emoji} 집중 시간입니다!`}),e.jsxs(A,{variant:"body2",color:"text.secondary",children:["완료된 세션: ",it,"개 🎯"]}),e.jsxs(A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[v.blocks.collectName,": ",Ut,"/60개 ",v.blocks.emoji]})]})}),e.jsxs(H,{sx:{flex:1},children:[e.jsx(yt,{sx:{mb:3},children:e.jsxs(Tt,{sx:{textAlign:"center"},children:[e.jsx(A,{variant:"h2",fontWeight:"bold",color:"primary",sx:{mb:2},children:mo(M)}),e.jsx(Wo,{variant:"determinate",value:Yt,sx:{height:12,borderRadius:6,mb:3,"& .MuiLinearProgress-bar":{borderRadius:6,background:h.background.gradient}}}),e.jsxs(H,{sx:{display:"flex",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[R?e.jsx(be,{variant:"contained",startIcon:e.jsx(Vo,{}),onClick:xo,size:"large",color:"warning",children:"일시정지"}):e.jsx(be,{variant:"contained",startIcon:e.jsx(Ho,{}),onClick:ho,size:"large",disabled:!w,children:"시작"}),e.jsx(Yo,{onClick:Vt,size:"large",children:e.jsx(Uo,{})}),Yt>=100&&e.jsx(be,{variant:"contained",startIcon:e.jsx(Jo,{}),color:"success",size:"large",onClick:Vt,children:"완료! 🎉"})]})]})}),e.jsx(yt,{children:e.jsxs(Tt,{children:[e.jsxs(A,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center"},children:[e.jsx(Xo,{})," ⏱️ 집중 여행"]}),e.jsxs(H,{sx:{width:"100%",aspectRatio:"1 / 1",maxWidth:{xs:250,sm:300,md:400},margin:"0 auto",position:"relative",borderRadius:2,border:`2px solid ${a.palette.divider}`,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:a.palette.background.paper},children:[e.jsx(H,{sx:{position:"absolute",top:"50%",left:"50%",width:"70%",height:"70%",border:`2px solid ${h.border.color}`,borderRadius:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),Ke.map(o=>{const r=(o.angle-90)*(Math.PI/180),s=35,c=50+Math.cos(r)*s,u=50+Math.sin(r)*s;return e.jsx(H,{sx:{position:"absolute",left:`${c}%`,top:`${u}%`,width:"16px",height:"16px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",transform:"translate(-50%, -50%)",opacity:o.filled?1:.3,transition:"opacity 0.5s ease",zIndex:2},children:o.filled?v.blocks.emoji:"⚪"},o.id)}),e.jsx(H,{sx:{position:"absolute",left:`${ce.x}%`,top:`${ce.y}%`,transform:"translate(-50%, -50%)",fontSize:"2rem",zIndex:3,filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))",transition:"all 0.1s ease-out"},children:t==null?void 0:t.emoji})]}),e.jsx(A,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mt:2},children:R?e.jsxs(e.Fragment,{children:["🎯 원을 따라 여행하는 ",(Gt=t==null?void 0:t.concepts)==null?void 0:Gt.animal,", ",v.blocks.type," 수집중! ",e.jsx("br",{}),"⏰"," ",Math.floor(M/60),"분 ",M%60,"초 남았어요! 원이 모두 채워지면 완료! ",e.jsx("br",{}),"🔄 1분에 한바퀴씩 돌며 ",Ut,"/60개 수집했어요!"]}):e.jsxs(e.Fragment,{children:[t==null?void 0:t.emoji," 출발을 기다리고 있는 ",(Qt=t==null?void 0:t.concepts)==null?void 0:Qt.animal,"! ",e.jsx("br",{}),"▶️ 타이머를 시작하면 원을 따라 여행하며 ",v.blocks.type," 수집 시작! ",e.jsx("br",{}),"⭕ 원이 모두 채워지면 ",k,"분 집중 완료!"]})})]})})]})]}),e.jsxs(Ot,{open:S,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(_t,{children:"새 에픽 만들기"}),e.jsxs(zt,{children:[e.jsx(ft,{autoFocus:!0,margin:"dense",label:"에픽 제목",fullWidth:!0,variant:"outlined",value:O,onChange:o=>ye(o.target.value),sx:{mb:2}}),e.jsx(ft,{margin:"dense",label:"에픽 설명 (선택사항)",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:Ge,onChange:o=>ct(o.target.value)}),e.jsxs(rt,{fullWidth:!0,sx:{mt:2},children:[e.jsx(st,{children:"에픽 이모지"}),e.jsxs(at,{value:Qe,label:"에픽 이모지",onChange:o=>qe(o.target.value),children:[e.jsx(m,{value:"🎯",children:"🎯 목표"}),e.jsx(m,{value:"🚀",children:"🚀 로켓"}),e.jsx(m,{value:"💪",children:"💪 힘"}),e.jsx(m,{value:"🎉",children:"🎉 축하"}),e.jsx(m,{value:"🎊",children:"🎊 파티"}),e.jsx(m,{value:"🎈",children:"🎈 풍선"}),e.jsx(m,{value:"🎀",children:"🎀 리본"}),e.jsx(m,{value:"🎁",children:"🎁 선물"}),e.jsx(m,{value:"🎗️",children:"🎗️ 리본"}),e.jsx(m,{value:"⭐",children:"⭐ 별"}),e.jsx(m,{value:"✨",children:"✨ 반짝"}),e.jsx(m,{value:"🌟",children:"🌟 빛나는별"}),e.jsx(m,{value:"💎",children:"💎 다이아몬드"}),e.jsx(m,{value:"🔥",children:"🔥 불"}),e.jsx(m,{value:"⚡",children:"⚡ 번개"}),e.jsx(m,{value:"🏆",children:"🏆 트로피"}),e.jsx(m,{value:"🥇",children:"🥇 금메달"}),e.jsx(m,{value:"🎖️",children:"🎖️ 훈장"}),e.jsx(m,{value:"📈",children:"📈 성장"}),e.jsx(m,{value:"🎪",children:"🎪 서커스"}),e.jsx(m,{value:"🎭",children:"🎭 연극"}),e.jsx(m,{value:"🎨",children:"🎨 예술"}),e.jsx(m,{value:"🎵",children:"🎵 음악"}),e.jsx(m,{value:"🎶",children:"🎶 노래"}),e.jsx(m,{value:"🌈",children:"🌈 무지개"}),e.jsx(m,{value:"🦄",children:"🦄 유니콘"}),e.jsx(m,{value:"🚁",children:"🚁 헬리콥터"}),e.jsx(m,{value:"✈️",children:"✈️ 비행기"}),e.jsx(m,{value:"🛸",children:"🛸 UFO"})]})]}),e.jsxs(rt,{fullWidth:!0,sx:{mt:2},children:[e.jsx(st,{children:"에픽 색상"}),e.jsxs(at,{value:Oe,label:"에픽 색상",onChange:o=>dt(o.target.value),children:[e.jsx(m,{value:"#FF6B6B",children:"🔴 빨강"}),e.jsx(m,{value:"#FFD700",children:"🟡 노랑"}),e.jsx(m,{value:"#57C7FF",children:"🔵 파랑"}),e.jsx(m,{value:"#4CAF50",children:"🟢 초록"}),e.jsx(m,{value:"#9C27B0",children:"🟣 보라"}),e.jsx(m,{value:"#FF9800",children:"🟠 주황"}),e.jsx(m,{value:"#795548",children:"🟤 갈색"}),e.jsx(m,{value:"#607D8B",children:"🔷 청회색"}),e.jsx(m,{value:"#E91E63",children:"💖 핑크"}),e.jsx(m,{value:"#00BCD4",children:"💦 청록"}),e.jsx(m,{value:"#009688",children:"💧 틸"}),e.jsx(m,{value:"#FFC107",children:"💛 앰버"}),e.jsx(m,{value:"#FF5722",children:"🧡 딥오렌지"}),e.jsx(m,{value:"#9E9E9E",children:"🩶 회색"}),e.jsx(m,{value:"#424242",children:"⚫ 어두운회색"})]})]}),e.jsxs(rt,{fullWidth:!0,sx:{mt:2},children:[e.jsx(st,{children:"에픽 우선순위"}),e.jsxs(at,{value:_e,label:"에픽 우선순위",onChange:o=>bt(o.target.value),children:[e.jsx(m,{value:"low",children:"낮음"}),e.jsx(m,{value:"medium",children:"중간"}),e.jsx(m,{value:"high",children:"높음"})]})]})]}),e.jsxs(Wt,{children:[e.jsx(be,{onClick:()=>b(!1),children:"취소"}),e.jsx(be,{onClick:ht,variant:"contained",disabled:!O.trim(),children:"만들기"})]})]}),e.jsxs(Ot,{open:g,onClose:()=>W(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(_t,{children:"새 프로젝트 만들기"}),e.jsxs(zt,{children:[e.jsxs(A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["에픽: ",I==null?void 0:I.title]}),e.jsx(ft,{autoFocus:!0,margin:"dense",label:"프로젝트 제목",fullWidth:!0,variant:"outlined",value:Pe,onChange:o=>Ze(o.target.value),sx:{mb:2}}),e.jsx(ft,{margin:"dense",label:"프로젝트 설명 (선택사항)",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:et,onChange:o=>vt(o.target.value)})]}),e.jsxs(Wt,{children:[e.jsx(be,{onClick:()=>W(!1),children:"취소"}),e.jsx(be,{onClick:ot,variant:"contained",disabled:!Pe.trim(),children:"만들기"})]})]}),e.jsxs(Ot,{open:ae,onClose:()=>j(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(_t,{children:"새 테스크 만들기"}),e.jsxs(zt,{children:[e.jsxs(A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["프로젝트: ",x==null?void 0:x.title]}),e.jsx(ft,{autoFocus:!0,margin:"dense",label:"테스크 제목",fullWidth:!0,variant:"outlined",value:ze,onChange:o=>gt(o.target.value)})]}),e.jsxs(Wt,{children:[e.jsx(be,{onClick:()=>j(!1),children:"취소"}),e.jsx(be,{onClick:pe,variant:"contained",disabled:!ze.trim(),children:"만들기"})]})]})]})};export{Ar as default};
