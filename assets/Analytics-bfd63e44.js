import{c as xe,j as e,u as Ee,r as m,d as p,a8 as W,a9 as ze,az as We,aA as Ye,B as c,T as r,h as M,i as H,aB as Ae,ay as G,Q as f,C as b,a as T,aC as $e,ap as Pe,U as Fe,A as R,L as ie,p as ne,s as oe,t as Le,P as Oe,V as k,O as V,z as U,D as He,e as Re,f as Ve,ag as Ue,ah as _e,ai as Ne,X as ce,k as Ge,aD as Qe,aE as Xe,aF as qe}from"./index-fc0e3f91.js";import{A as Je}from"./Add-97b0121a.js";import{T as Ke,C as de}from"./TrendingUp-34661a19.js";import{A as Ze,S as et}from"./Save-fdb75b5a.js";import{A as tt,a as at,E as rt,b as st}from"./ExpandMore-34411a88.js";import{T as lt,a as it,b as nt,c as ue,d as j,e as ot}from"./TableRow-4f639da0.js";import{C as ct}from"./Cancel-ace4e9d8.js";import{E as dt}from"./Edit-fe0d11d7.js";import{D as ut}from"./Delete-2118ac97.js";import{T as xt}from"./Timeline-218c26ff.js";const jt=xe([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),ht=xe(e.jsx("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10m2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99m0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99z"}),"PieChart"),Ct=({themeConfig:u})=>{var te;const g=Ee(),[Q,je]=m.useState([]),[he,X]=m.useState(!0),[mt,me]=m.useState(null),[pe,q]=m.useState(!0),[C,pt]=m.useState(p().startOf("week").format("YYYY-MM-DD")),[S,ge]=m.useState([]),[B,ye]=m.useState([]),[gt,fe]=m.useState([]),[Y,_]=m.useState(null),[A,D]=m.useState({}),[ve,L]=m.useState(!1),[d,E]=m.useState({sessionType:"work",duration:25,actualDuration:25}),J=(()=>{const a={excellent:{label:"ìµœê³ ",score:5,color:g.palette.success.dark},good:{label:"ì¢‹ìŒ",score:4,color:g.palette.success.main},normal:{label:"ë³´í†µ",score:3,color:g.palette.warning.main},tired:{label:"í”¼ê³¤",score:2,color:g.palette.warning.dark},exhausted:{label:"ë§¤ìš° í”¼ê³¤",score:1,color:g.palette.error.main}},t={penguin:{excellent:"ðŸ§",good:"ðŸŸ",normal:"â„ï¸",tired:"ðŸ§Š",exhausted:"ðŸ»â€â„ï¸"},"desert-fox":{excellent:"ðŸ¦Š",good:"ðŸŒµ",normal:"â˜€ï¸",tired:"ðŸœï¸",exhausted:"ðŸ”¥"},sheep:{excellent:"ðŸ‘",good:"ðŸŒ¿",normal:"ðŸŒ±",tired:"ðŸƒ",exhausted:"ðŸŒ¾"},cat:{excellent:"ðŸ±",good:"ðŸŸ",normal:"ðŸ§¶",tired:"ðŸ¾",exhausted:"ðŸ˜¿"}},s=(u==null?void 0:u.id)||"penguin",n=t[s]||t.penguin;return Object.keys(a).reduce((y,h)=>(y[h]={...a[h],emoji:n[h]},y),{})})();m.useEffect(()=>{be(),K(),$()},[C]);const be=async()=>{try{X(!0);const a=W();if(a){const t=await ze(a.uid,"conditions");t.success&&t.data&&je(t.data)}}catch(a){console.error("ì»¨ë””ì…˜ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",a)}finally{X(!1)}},K=async()=>{try{q(!0);const a=W();if(a){const t=await We(a.uid,C);t.success&&t.data&&me(t.data)}}catch(a){console.error("ë½€ëª¨ë„ë¡œ í†µê³„ ë¡œë“œ ì‹¤íŒ¨:",a)}finally{q(!1)}},$=async()=>{try{const a=W();if(a){const t=p(C),s=t.add(6,"day"),n=await Ye(a.uid,t.format("YYYY-MM-DD"),s.format("YYYY-MM-DD"));if(n.success&&n.data){const y=n.data;fe(y);const h=t,z=s,o=y.filter(l=>{const x=p(l.startTime);return x.isAfter(h.subtract(1,"day"))&&x.isBefore(z.add(1,"day"))&&l.completed&&l.sessionType==="work"}),i=[];for(let l=0;l<7;l++){const re=h.add(l,"day").format("YYYY-MM-DD"),se=o.filter(v=>p(v.startTime).format("YYYY-MM-DD")===re),F={};let le=0;se.forEach(v=>{le+=v.duration,F[v.projectId]||(F[v.projectId]={title:v.projectTitle,minutes:0,sessions:0}),F[v.projectId].minutes+=v.duration,F[v.projectId].sessions+=1}),i.push({date:re,sessions:se,totalMinutes:le,projectBreakdown:F})}ge(i);const I={},ae=o.reduce((l,x)=>l+x.duration,0);o.forEach(l=>{I[l.projectId]||(I[l.projectId]={projectId:l.projectId,projectTitle:l.projectTitle,totalMinutes:0,totalSessions:0,percentage:0,tasks:{}});const x=I[l.projectId];x.totalMinutes+=l.duration,x.totalSessions+=1,x.tasks[l.taskId]||(x.tasks[l.taskId]={title:l.taskTitle,minutes:0,sessions:0}),x.tasks[l.taskId].minutes+=l.duration,x.tasks[l.taskId].sessions+=1});const Be=Object.values(I).map(l=>({...l,percentage:ae>0?l.totalMinutes/ae*100:0})).sort((l,x)=>x.totalMinutes-l.totalMinutes);ye(Be)}}}catch(a){console.error("ìƒì„¸ ë½€ëª¨ë„ë¡œ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",a)}},Te=()=>{if(!Q.length)return{weeklyStats:{},totalEntries:0,averageScore:0};const a=p(C),t=a.add(6,"day"),s=Q.filter(o=>{const i=p(o.date);return i.isAfter(a.subtract(1,"day"))&&i.isBefore(t.add(1,"day"))}),n={};let y=0,h=s.length;for(let o=0;o<7;o++)n[o]={count:0,total:0,average:0};s.forEach(o=>{const i=p(o.date).day(),I=J[o.condition].score;n[i].count++,n[i].total+=I,y+=I}),Object.keys(n).forEach(o=>{const i=parseInt(o);n[i].count>0&&(n[i].average=n[i].total/n[i].count)});const z=h>0?y/h:0;return{weeklyStats:n,totalEntries:h,averageScore:z}},{weeklyStats:Z,totalEntries:ee,averageScore:O}=Te(),P=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "],w=a=>{const t=Math.floor(a/60),s=a%60;return t>0?`${t}ì‹œê°„ ${s}ë¶„`:`${s}ë¶„`},ke=()=>"ðŸ“Š í™œë™ ë¶„ì„",Se=()=>{var t;return`${((t=u==null?void 0:u.concepts)==null?void 0:t.animal)||"íŽ­ê·„"}ì˜ ìƒí™œ íŒ¨í„´ê³¼ ë½€ëª¨ë„ë¡œ ì§‘ì¤‘ ì„¸ì…˜ì„ ë¶„ì„í•´ì„œ ìµœì ì˜ ì‹œê°„ì„ ì°¾ì•„ë“œë ¤ìš”`},De=a=>{_(a.id),D({[a.id]:{duration:a.duration,actualDuration:a.actualDuration||a.duration,projectTitle:a.projectTitle,taskTitle:a.taskTitle}})},we=async a=>{const t=A[a];if(t)try{const s=W();if(!s)return;const n=await Qe(s.uid,a,{duration:t.duration,actualDuration:t.actualDuration||t.duration,projectTitle:t.projectTitle,taskTitle:t.taskTitle});n.success?(_(null),D({}),console.log(`âœ… ì„¸ì…˜ ìˆ˜ì • ì™„ë£Œ: ${a}`),$()):(console.error("ì„¸ì…˜ ìˆ˜ì • ì‹¤íŒ¨:",n.error),alert("ì„¸ì…˜ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+n.error))}catch(s){console.error("ì„¸ì…˜ ìˆ˜ì • ì‹¤íŒ¨:",s),alert("ì„¸ì…˜ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Ie=()=>{_(null),D({})},Me=async a=>{if(confirm("ì´ ì„¸ì…˜ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const t=W();if(!t)return;const s=await Xe(t.uid,a);s.success?(console.log(`ðŸ—‘ï¸ ì„¸ì…˜ ì‚­ì œ ì™„ë£Œ: ${a}`),$()):(console.error("ì„¸ì…˜ ì‚­ì œ ì‹¤íŒ¨:",s.error),alert("ì„¸ì…˜ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+s.error))}catch(t){console.error("ì„¸ì…˜ ì‚­ì œ ì‹¤íŒ¨:",t),alert("ì„¸ì…˜ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Ce=async()=>{if(!d.projectTitle||!d.taskTitle||!d.duration){alert("ëª¨ë“  í•„ë“œë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.");return}try{const a=W();if(!a)return;const t=new Date,s={projectId:`proj_${Date.now()}`,projectTitle:d.projectTitle,taskId:`task_${Date.now()}`,taskTitle:d.taskTitle,sessionType:d.sessionType,duration:d.duration,actualDuration:d.actualDuration||d.duration,startTime:d.startTime||t.toISOString(),endTime:d.endTime||new Date(t.getTime()+d.duration*6e4).toISOString(),completed:!0};(await qe(a.uid,s)).success&&(L(!1),E({sessionType:"work",duration:25,actualDuration:25}),console.log("âœ… ìƒˆ ì„¸ì…˜ ì¶”ê°€ ì™„ë£Œ"),$())}catch(a){console.error("ì„¸ì…˜ ì¶”ê°€ ì‹¤íŒ¨:",a)}},N=Object.entries(Z).filter(([a,t])=>t.count>0).sort((a,t)=>t[1].average-a[1].average)[0];return e.jsxs(c,{sx:{p:3},children:[e.jsxs(c,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:ke()}),e.jsx(r,{variant:"body1",color:"textSecondary",children:Se()})]}),e.jsxs(c,{sx:{mb:6},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(r,{variant:"h5",fontWeight:"bold",sx:{background:"linear-gradient(45deg, #ff6b6b 30%, #feca57 90%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"ðŸ… ë½€ëª¨ë„ë¡œ ë¶„ì„"}),e.jsx(M,{label:`${C.split("-")[1]}ì›” ${C.split("-")[2]}ì¼ ì£¼ì°¨`,variant:"outlined",size:"small"}),e.jsx(H,{size:"small",startIcon:e.jsx(Ae,{}),onClick:()=>{K(),$()},children:"ìƒˆë¡œê³ ì¹¨"}),e.jsx(H,{size:"small",variant:"contained",startIcon:e.jsx(Je,{}),onClick:()=>L(!0),children:"ì„¸ì…˜ ì¶”ê°€"})]}),pe?e.jsx(c,{sx:{display:"flex",justifyContent:"center",p:4},children:e.jsx(G,{})}):e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{item:!0,xs:12,md:6,lg:3,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx($e,{color:"primary"})," ì£¼ê°„ ì´ ì§‘ì¤‘ì‹œê°„"]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:w(B.reduce((a,t)=>a+t.totalMinutes,0))}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["ì´ ",B.reduce((a,t)=>a+t.totalSessions,0),"íšŒ ì„¸ì…˜"]})]})})}),e.jsx(f,{item:!0,xs:12,md:6,lg:3,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Pe,{color:"primary"})," í™œë™í•œ í”„ë¡œì íŠ¸"]}),e.jsxs(r,{variant:"h4",color:"primary",fontWeight:"bold",children:[B.length,"ê°œ"]}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"ì´ë²ˆ ì£¼ ìž‘ì—… í”„ë¡œì íŠ¸"})]})})}),e.jsx(f,{item:!0,xs:12,md:6,lg:3,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ke,{color:"primary"})," ì¼í‰ê·  ì§‘ì¤‘ì‹œê°„"]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:w(Math.round(B.reduce((a,t)=>a+t.totalMinutes,0)/7))}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"í•˜ë£¨ í‰ê·  ì§‘ì¤‘ì‹œê°„"})]})})}),e.jsx(f,{item:!0,xs:12,md:6,lg:3,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(jt,{color:"primary"})," ê°€ìž¥ í™œë°œí•œ ë‚ "]}),e.jsx(r,{variant:"h4",color:"primary",fontWeight:"bold",children:S.length>0?P[p((te=S.sort((a,t)=>t.totalMinutes-a.totalMinutes)[0])==null?void 0:te.date).day()]+"ìš”ì¼":"-"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:S.length>0?w(Math.max(...S.map(a=>a.totalMinutes))):"ë°ì´í„° ì—†ìŒ"})]})})}),e.jsx(f,{item:!0,xs:12,lg:8,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ht,{color:"primary"})," í”„ë¡œì íŠ¸ë³„ ì‹œê°„ íˆ¬ìž ë¹„ìœ¨"]}),B.length>0?e.jsx(c,{children:B.map((a,t)=>e.jsxs(c,{sx:{mb:2},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(r,{variant:"body2",fontWeight:"medium",children:a.projectTitle}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(M,{label:`${a.percentage.toFixed(1)}%`,size:"small",variant:"outlined"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:w(a.totalMinutes)})]})]}),e.jsx(Fe,{variant:"determinate",value:a.percentage,sx:{height:8,borderRadius:4,backgroundColor:g.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:g.palette.primary.main}}})]},a.projectId))}):e.jsxs(R,{severity:"info",children:["ì´ë²ˆ ì£¼ì—ëŠ” ë½€ëª¨ë„ë¡œ ì„¸ì…˜ì´ ì—†ì–´ìš”. ì§‘ì¤‘ ì‹œê°„ì„ ê¸°ë¡í•´ë³´ì„¸ìš”! ",u==null?void 0:u.emoji]})]})})}),e.jsx(f,{item:!0,xs:12,lg:4,children:e.jsx(b,{sx:{height:"100%"},children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(de,{color:"primary"})," ì¼ë³„ í™œë™ ìš”ì•½"]}),e.jsx(ie,{dense:!0,children:S.map((a,t)=>e.jsx(ne,{sx:{px:0},children:e.jsx(oe,{primary:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(r,{variant:"body2",children:[P[p(a.date).day()],"ìš”ì¼ (",p(a.date).format("M/D"),")"]}),e.jsx(M,{label:a.totalMinutes>0?w(a.totalMinutes):"íœ´ì‹",size:"small",color:a.totalMinutes>0?"primary":"default",variant:a.totalMinutes>0?"filled":"outlined"})]}),secondary:a.sessions.length>0?`${a.sessions.length}íšŒ ì„¸ì…˜ â€¢ ${Object.keys(a.projectBreakdown).length}ê°œ í”„ë¡œì íŠ¸`:"í™œë™ ì—†ìŒ"})},a.date))})]})})}),e.jsx(f,{item:!0,xs:12,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ze,{color:"primary"})," ðŸ“… ìƒì„¸ ì¼ë³„ í™œë™ ë¶„ì„"]}),S.some(a=>a.sessions.length>0)?S.filter(a=>a.sessions.length>0).map(a=>e.jsxs(tt,{sx:{mt:1},children:[e.jsx(at,{expandIcon:e.jsx(rt,{}),children:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",pr:2},children:[e.jsxs(r,{variant:"body1",fontWeight:"medium",children:[P[p(a.date).day()],"ìš”ì¼ (",p(a.date).format("YYYYë…„ Mì›” Dì¼"),")"]}),e.jsxs(c,{sx:{display:"flex",gap:1},children:[e.jsx(M,{label:`${w(a.totalMinutes)}`,size:"small",color:"primary"}),e.jsx(M,{label:`${a.sessions.length}íšŒ ì„¸ì…˜`,size:"small",variant:"outlined"})]})]})}),e.jsx(st,{children:e.jsxs(c,{children:[e.jsx(r,{variant:"subtitle2",gutterBottom:!0,sx:{mt:1},children:"í”„ë¡œì íŠ¸ë³„ í™œë™:"}),Object.entries(a.projectBreakdown).map(([t,s])=>e.jsxs(c,{sx:{mb:2,pl:2,borderLeft:`3px solid ${g.palette.primary.main}`},children:[e.jsxs(r,{variant:"body2",fontWeight:"medium",children:["ðŸ“ ",s.title]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:[w(s.minutes)," â€¢ ",s.sessions,"íšŒ ì„¸ì…˜"]})]},t)),e.jsx(Le,{sx:{my:2}}),e.jsx(r,{variant:"subtitle2",gutterBottom:!0,children:"ì„¸ì…˜ ìƒì„¸ ë‚´ì—­:"}),e.jsx(lt,{component:Oe,variant:"outlined",children:e.jsxs(it,{size:"small",children:[e.jsx(nt,{children:e.jsxs(ue,{children:[e.jsx(j,{children:"ì‹œê°„"}),e.jsx(j,{children:"í”„ë¡œì íŠ¸"}),e.jsx(j,{children:"ìž‘ì—…"}),e.jsx(j,{align:"right",children:"ì§‘ì¤‘ì‹œê°„"}),e.jsx(j,{align:"right",children:"ì‹¤ì œì‹œê°„"}),e.jsx(j,{align:"center",children:"ìƒíƒœ"}),e.jsx(j,{align:"center",children:"íŽ¸ì§‘"})]})}),e.jsx(ot,{children:a.sessions.sort((t,s)=>new Date(t.startTime).getTime()-new Date(s.startTime).getTime()).map((t,s)=>{var n,y,h,z;return e.jsxs(ue,{children:[e.jsx(j,{children:p(t.startTime).format("HH:mm")}),e.jsx(j,{children:Y===t.id?e.jsx(k,{size:"small",value:((n=A[t.id])==null?void 0:n.projectTitle)||t.projectTitle,onChange:o=>D(i=>({...i,[t.id]:{...i[t.id],projectTitle:o.target.value}}))}):t.projectTitle}),e.jsx(j,{children:Y===t.id?e.jsx(k,{size:"small",value:((y=A[t.id])==null?void 0:y.taskTitle)||t.taskTitle,onChange:o=>D(i=>({...i,[t.id]:{...i[t.id],taskTitle:o.target.value}}))}):t.taskTitle}),e.jsx(j,{align:"right",children:Y===t.id?e.jsx(k,{size:"small",type:"number",value:((h=A[t.id])==null?void 0:h.duration)||t.duration,onChange:o=>D(i=>({...i,[t.id]:{...i[t.id],duration:parseFloat(o.target.value)||0}})),sx:{width:"70px"}}):`${t.duration}ë¶„`}),e.jsx(j,{align:"right",children:Y===t.id?e.jsx(k,{size:"small",type:"number",value:((z=A[t.id])==null?void 0:z.actualDuration)||t.actualDuration||t.duration,onChange:o=>D(i=>({...i,[t.id]:{...i[t.id],actualDuration:parseFloat(o.target.value)||0}})),sx:{width:"70px"}}):e.jsxs(c,{children:[e.jsx(r,{variant:"body2",children:t.actualDuration?`${t.actualDuration}ë¶„`:`${t.duration}ë¶„`}),t.actualDuration&&t.actualDuration!==t.duration&&e.jsxs(r,{variant:"caption",color:"text.secondary",children:["(ì„¤ì •: ",t.duration,"ë¶„)"]})]})}),e.jsx(j,{align:"center",children:e.jsx(M,{label:t.completed?"ì™„ë£Œ":"ì¤‘ë‹¨",size:"small",color:t.completed?"success":"warning",variant:t.actualDuration&&t.actualDuration!==t.duration?"outlined":"filled"})}),e.jsx(j,{align:"center",children:Y===t.id?e.jsxs(c,{sx:{display:"flex",gap:.5},children:[e.jsx(V,{title:"ì €ìž¥",children:e.jsx(U,{size:"small",color:"primary",onClick:()=>we(t.id),children:e.jsx(et,{})})}),e.jsx(V,{title:"ì·¨ì†Œ",children:e.jsx(U,{size:"small",onClick:Ie,children:e.jsx(ct,{})})})]}):e.jsxs(c,{sx:{display:"flex",gap:.5},children:[e.jsx(V,{title:"íŽ¸ì§‘",children:e.jsx(U,{size:"small",onClick:()=>De(t),children:e.jsx(dt,{})})}),e.jsx(V,{title:"ì‚­ì œ",children:e.jsx(U,{size:"small",color:"error",onClick:()=>Me(t.id),children:e.jsx(ut,{})})})]})})]},t.id)})})]})})]})})]},a.date)):e.jsxs(R,{severity:"info",sx:{mt:2},children:["ì´ë²ˆ ì£¼ì—ëŠ” ë½€ëª¨ë„ë¡œ í™œë™ì´ ì—†ì–´ìš”. ",u==null?void 0:u.emoji," íƒ€ì´ë¨¸ì—ì„œ ì§‘ì¤‘ ì„¸ì…˜ì„ ì‹œìž‘í•´ë³´ì„¸ìš”!"]})]})})})]})]}),e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{item:!0,xs:12,md:6,children:e.jsx(b,{children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xt,{})," ì£¼ê°„ ì»¨ë””ì…˜ í‰ê· "]}),he?e.jsx(G,{size:24}):ee>0?e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(G,{variant:"determinate",value:O/5*100,size:60,sx:{color:O>=4?g.palette.success.main:O>=3?g.palette.warning.main:g.palette.error.main}}),e.jsxs(c,{children:[e.jsxs(r,{variant:"h4",fontWeight:"bold",children:[O.toFixed(1),"ì "]}),e.jsxs(r,{variant:"body2",color:"textSecondary",children:[ee,"íšŒ ê¸°ë¡"]})]})]}),N&&e.jsx(R,{severity:"success",icon:J.excellent.emoji,children:e.jsxs(r,{variant:"body2",children:[e.jsxs("strong",{children:[P[parseInt(N[0])],"ìš”ì¼"]}),"ì´ ê°€ìž¥ ì¢‹ì•˜ì–´ìš”! (",N[1].average.toFixed(1),"ì )"]})})]}):e.jsxs(R,{severity:"info",children:["ì´ë²ˆ ì£¼ ì»¨ë””ì…˜ ê¸°ë¡ì´ ì—†ì–´ìš”. ",u==null?void 0:u.emoji," ê±´ê°• íƒ­ì—ì„œ ì»¨ë””ì…˜ì„ ê¸°ë¡í•´ë³´ì„¸ìš”!"]})]})})}),e.jsx(f,{item:!0,xs:12,md:6,children:e.jsx(b,{sx:{height:"100%"},children:e.jsxs(T,{children:[e.jsxs(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(de,{})," ìš”ì¼ë³„ ì»¨ë””ì…˜ ìˆœìœ„"]}),e.jsx(ie,{dense:!0,children:Object.entries(Z).filter(([a,t])=>t.count>0).sort((a,t)=>t[1].average-a[1].average).map(([a,t],s)=>e.jsx(ne,{sx:{px:0},children:e.jsx(oe,{primary:e.jsxs(c,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{variant:"body2",children:["#",s+1," ",P[parseInt(a)],"ìš”ì¼"]}),e.jsx(M,{label:`${t.average.toFixed(1)}ì `,size:"small",color:t.average>=4?"success":t.average>=3?"warning":"error"})]}),secondary:`${t.count}íšŒ ê¸°ë¡`})},a))})]})})})]}),e.jsxs(He,{open:ve,onClose:()=>L(!1),children:[e.jsx(Re,{children:"ìƒˆ ë½€ëª¨ë„ë¡œ ì„¸ì…˜ ì¶”ê°€"}),e.jsx(Ve,{children:e.jsxs(c,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[e.jsx(k,{label:"í”„ë¡œì íŠ¸ ì œëª©",value:d.projectTitle,onChange:a=>E(t=>({...t,projectTitle:a.target.value})),fullWidth:!0}),e.jsx(k,{label:"ìž‘ì—… ì œëª©",value:d.taskTitle,onChange:a=>E(t=>({...t,taskTitle:a.target.value})),fullWidth:!0}),e.jsx(k,{label:"ì§‘ì¤‘ ì‹œê°„ (ë¶„)",type:"number",value:d.duration,onChange:a=>E(t=>({...t,duration:parseFloat(a.target.value)||0})),fullWidth:!0}),e.jsx(k,{label:"ì‹¤ì œ ì§‘ì¤‘ ì‹œê°„ (ë¶„)",type:"number",value:d.actualDuration,onChange:a=>E(t=>({...t,actualDuration:parseFloat(a.target.value)||0})),fullWidth:!0}),e.jsxs(Ue,{fullWidth:!0,children:[e.jsx(_e,{children:"ì„¸ì…˜ íƒ€ìž…"}),e.jsxs(Ne,{value:d.sessionType,label:"ì„¸ì…˜ íƒ€ìž…",onChange:a=>E(t=>({...t,sessionType:a.target.value})),children:[e.jsx(ce,{value:"work",children:"ìž‘ì—…"}),e.jsx(ce,{value:"break",children:"íœ´ì‹"})]})]})]})}),e.jsxs(Ge,{children:[e.jsx(H,{onClick:()=>L(!1),children:"ì·¨ì†Œ"}),e.jsx(H,{onClick:Ce,variant:"contained",children:"ì¶”ê°€"})]})]})]})};export{Ct as default};
