import{a as n,j as e,D as M,b as R,B as t,aD as y,T as i,o as h,ae as W,c as P,a_ as $,a$ as m,b0 as C,aj as v,bJ as L,e as N,f as U,a6 as Z,a7 as _,C as c,bK as F,bL as J,b5 as K,b6 as O,b7 as q,ak as G,al as Q,am as V,an as X}from"./mui-f5b39a97.js";import{$ as Y,a0 as ee,a1 as se,a2 as re}from"./index-16e83210.js";import{d as A}from"./dayjs-9d6a636c.js";const ne=({open:d,onClose:x})=>{const[r,w]=n.useState(0),[u,k]=n.useState([]),[j,z]=n.useState([]),[p,S]=n.useState([]),[D,E]=n.useState(null);n.useEffect(()=>{d&&g()},[d]);const g=()=>{k(Y()),z(ee()),S(se())},H=(s,a)=>{const l={sx:{color:(()=>{switch(a){case"critical":return"error.main";case"high":return"warning.main";case"medium":return"info.main";case"low":return"success.main";default:return"info.main"}})()}};switch(s){case"error":return e.jsx(X,{...l});case"warning":return e.jsx(V,{...l});case"success":return e.jsx(Q,{...l});default:return a==="critical"?e.jsx(v,{...l}):e.jsx(G,{...l})}},I=s=>{switch(s){case"critical":return"ðŸš¨ ê¸´ê¸‰";case"high":return"âš ï¸ ë†’ìŒ";case"medium":return"ðŸ“¢ ë³´í†µ";case"low":return"ðŸ’¡ ë‚®ìŒ";default:return"ðŸ“¢ ë³´í†µ"}},b=s=>{switch(s){case"critical":return"error";case"high":return"warning";case"medium":return"info";case"low":return"success";default:return"info"}},B=s=>{re(s),g()},T=s=>{const a=D===s.id,o=s.read||!1;return e.jsx(Z,{sx:{mb:1,border:"1px solid",borderColor:`${b(s.severity)}.main`,backgroundColor:o?"grey.50":"background.paper",opacity:o?.7:1,borderRadius:2},children:e.jsxs(_,{sx:{p:2,"&:last-child":{pb:2}},children:[e.jsxs(t,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,children:[e.jsxs(t,{display:"flex",alignItems:"center",gap:1,flex:1,children:[H(s.type,s.severity),e.jsx(i,{variant:"subtitle1",fontWeight:"bold",sx:{mr:1},children:s.title}),e.jsx(c,{label:I(s.severity),size:"small",color:b(s.severity),sx:{fontSize:"0.7rem"}}),!o&&e.jsx(c,{icon:e.jsx(F,{sx:{fontSize:"0.5rem !important"}}),label:"ìƒˆ ì•Œë¦¼",size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.6rem",height:"20px"}})]}),e.jsxs(t,{display:"flex",alignItems:"center",gap:.5,children:[!o&&e.jsx(h,{size:"small",onClick:()=>B(s.id),title:"ì½ìŒìœ¼ë¡œ í‘œì‹œ",children:e.jsx(J,{fontSize:"small"})}),e.jsx(h,{size:"small",onClick:()=>E(a?null:s.id),children:a?e.jsx(K,{}):e.jsx(O,{})})]})]}),e.jsxs(i,{variant:"caption",color:"text.secondary",display:"block",mb:1,children:["ðŸ“… ",A(s.createdAt).format("MM/DD HH:mm"),s.expiresAt&&e.jsxs(e.Fragment,{children:[" â€¢ â° ë§Œë£Œ: ",A(s.expiresAt).format("MM/DD HH:mm")]})]}),e.jsx(q,{in:a,children:e.jsxs(t,{sx:{mt:1,p:2,backgroundColor:"grey.50",borderRadius:1},children:[e.jsx(i,{variant:"body2",sx:{whiteSpace:"pre-line",mb:2},children:s.message}),e.jsxs(t,{display:"flex",gap:1,flexWrap:"wrap",children:[e.jsx(c,{label:s.type,size:"small",variant:"outlined"}),s.persistent&&e.jsx(c,{label:"ðŸ“Œ ì§€ì†ì ",size:"small",color:"warning",variant:"outlined"}),s.dismissible&&e.jsx(c,{label:"âœ… ë‹«ê¸° ê°€ëŠ¥",size:"small",color:"success",variant:"outlined"})]})]})})]})},s.id)},f=()=>{switch(r){case 0:return j;case 1:return p;case 2:return u;default:return u}};return e.jsxs(M,{open:d,onClose:x,maxWidth:"md",fullWidth:!0,children:[e.jsxs(R,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(t,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(y,{color:"primary"}),e.jsx(i,{variant:"h6",children:"ì•Œë¦¼ ê´€ë¦¬ ì„¼í„° ðŸ“¬"})]}),e.jsx(h,{onClick:x,size:"small",children:e.jsx(W,{})})]}),e.jsxs(P,{sx:{p:0},children:[e.jsx(t,{sx:{p:2,backgroundColor:"grey.50",borderBottom:1,borderColor:"divider"},children:e.jsxs(i,{variant:"body2",color:"text.secondary",textAlign:"center",children:[r===0&&"ðŸš¨ í˜„ìž¬ í‘œì‹œ ì¤‘ì¸ ê¸´ê¸‰ ì•Œë¦¼ë“¤",r===1&&"ðŸ“¢ ì•„ì§ ì½ìŒ ì²˜ë¦¬í•˜ì§€ ì•Šì€ ëª¨ë“  ì•Œë¦¼ë“¤",r===2&&"ðŸ“š ëª¨ë“  ì•Œë¦¼ì˜ ì™„ì „í•œ ê¸°ë¡ (ì‹œê°„ìˆœ ì •ë ¬)"]})}),e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs($,{value:r,onChange:(s,a)=>w(a),variant:"fullWidth",children:[e.jsx(m,{icon:e.jsx(C,{badgeContent:j.length,color:"error",showZero:!0,children:e.jsx(v,{})}),label:"í˜„ìž¬ í™œì„±",iconPosition:"start"}),e.jsx(m,{icon:e.jsx(C,{badgeContent:p.length,color:"primary",showZero:!0,children:e.jsx(L,{})}),label:"ë¯¸í™•ì¸",iconPosition:"start"}),e.jsx(m,{icon:e.jsx(y,{}),label:`ì „ì²´ (${u.length})`,iconPosition:"start"})]})}),e.jsx(t,{sx:{p:2,maxHeight:500,overflow:"auto"},children:f().length===0?e.jsxs(t,{sx:{textAlign:"center",py:4},children:[e.jsxs(i,{variant:"body1",color:"text.secondary",children:[r===0&&"í˜„ìž¬ í™œì„±í™”ëœ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤ âœ¨",r===1&&"ëª¨ë“  ì•Œë¦¼ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤! ðŸ‘",r===2&&"ì•Œë¦¼ ížˆìŠ¤í† ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤ ðŸ“­"]}),e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[r===0&&"ìƒˆë¡œìš´ ì•Œë¦¼ì´ ìžˆìœ¼ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤",r===1&&"ì½ìŒ ì²˜ë¦¬í•˜ì§€ ì•Šì€ ì•Œë¦¼ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤",r===2&&"ëª¨ë“  ì•Œë¦¼ì˜ ê¸°ë¡ì´ ì—¬ê¸°ì— ì €ìž¥ë©ë‹ˆë‹¤"]})]}):e.jsx(t,{children:f().map(s=>T(s))})})]}),e.jsx(N,{sx:{p:2},children:e.jsx(U,{onClick:x,variant:"contained",children:"ë‹«ê¸°"})})]})};export{ne as default};
