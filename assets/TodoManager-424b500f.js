import{a9 as ut,a as x,j as e,a6 as ee,a7 as N,B as a,aJ as be,T as i,C as T,aW as jt,aX as Ce,J as Q,o as U,aK as ke,aL as Te,D as oe,b as ce,c as de,d as D,F as z,I as L,S as P,M as o,e as xe,f as A,aY as he,aZ as me,aE as pe,ao as ne,a_ as Ae,a$ as O,b0 as V,b1 as Je,b2 as Ne,b3 as Ve,u as pt,b4 as mt,w as Re,x as gt,af as De,b5 as vt,b6 as Ke,b7 as ft,W as je,L as Ie,q as we,v as Se,b8 as yt,aq as Oe,ag as bt,al as Ct,G as W,aV as Dt,b9 as It,ba as wt,A as ie,ae as qe,bb as St,bc as Ue,bd as Ye,aH as kt,be as Tt,bf as At,bg as Wt,t as Et}from"./mui-f5b39a97.js";import{d as v}from"./dayjs-9d6a636c.js";import{a as zt}from"./index-16e83210.js";const Qe={urgent:"#f44336",high:"#ff9800",medium:"#2196f3",low:"#4caf50"},Lt={urgent:"ê¸´ê¸‰",high:"ë†’ìŒ",medium:"ë³´í†µ",low:"ë‚®ìŒ"},Pt=ut.memo(({todo:s,onUpdate:Y,onDelete:F,onToggleComplete:q})=>{var M,E;const[I,f]=x.useState(!1),[p,y]=x.useState({title:s.title,description:s.description??"",priority:s.priority,dueDate:s.dueDate??"",tags:((M=s.tags)==null?void 0:M.join(", "))??""}),B=()=>{const m={...s,title:p.title,description:p.description||void 0,priority:p.priority,dueDate:p.dueDate||void 0,tags:p.tags?p.tags.split(",").map(n=>n.trim()).filter(Boolean):void 0,updatedAt:new Date().toISOString()};Y(m),f(!1)},j=()=>{var m;y({title:s.title,description:s.description??"",priority:s.priority,dueDate:s.dueDate??"",tags:((m=s.tags)==null?void 0:m.join(", "))??""}),f(!1)},u=s.dueDate&&!s.completed&&v(s.dueDate).isBefore(v(),"day"),w=s.dueDate&&v(s.dueDate).isSame(v(),"day");return e.jsxs(e.Fragment,{children:[e.jsx(ee,{sx:{mb:2,opacity:s.completed?.7:1,borderLeft:`4px solid ${Qe[s.priority]}`,backgroundColor:u?"#ffebee":w?"#fff3e0":"inherit"},children:e.jsx(N,{children:e.jsxs(a,{display:"flex",alignItems:"flex-start",gap:2,children:[e.jsx(be,{checked:s.completed,onChange:()=>q(s.id),sx:{mt:-1}}),e.jsxs(a,{flex:1,children:[e.jsxs(a,{display:"flex",alignItems:"center",gap:1,mb:1,children:[e.jsx(i,{variant:"h6",sx:{textDecoration:s.completed?"line-through":"none",flex:1},children:s.title}),e.jsx(T,{size:"small",icon:e.jsx(jt,{}),label:Lt[s.priority],sx:{backgroundColor:Qe[s.priority],color:"white",fontSize:"0.75rem"}})]}),s.description&&e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:1,textDecoration:s.completed?"line-through":"none"},children:s.description}),e.jsxs(a,{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",children:[s.dueDate&&e.jsx(T,{size:"small",icon:e.jsx(Ce,{}),label:v(s.dueDate).format("MM/DD"),color:u?"error":w?"warning":"default",variant:"outlined"}),(E=s.tags)==null?void 0:E.map((m,n)=>e.jsx(T,{size:"small",label:m,variant:"outlined",sx:{fontSize:"0.7rem"}},n))]})]}),e.jsxs(a,{display:"flex",flexDirection:"column",gap:1,children:[e.jsx(Q,{title:"ìˆ˜ì •",children:e.jsx(U,{size:"small",onClick:()=>f(!0),disabled:s.completed,children:e.jsx(ke,{fontSize:"small"})})}),e.jsx(Q,{title:"ì‚­ì œ",children:e.jsx(U,{size:"small",onClick:()=>F(s.id),color:"error",children:e.jsx(Te,{fontSize:"small"})})})]})]})})}),e.jsxs(oe,{open:I,onClose:j,maxWidth:"sm",fullWidth:!0,children:[e.jsx(ce,{children:"í• ì¼ ìˆ˜ì • âœï¸"}),e.jsx(de,{children:e.jsxs(a,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[e.jsx(D,{label:"ì œëª©",value:p.title,onChange:m=>y(n=>({...n,title:m.target.value})),fullWidth:!0,required:!0}),e.jsx(D,{label:"ì„¤ëª…",value:p.description,onChange:m=>y(n=>({...n,description:m.target.value})),fullWidth:!0,multiline:!0,rows:3}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:p.priority,onChange:m=>y(n=>({...n,priority:m.target.value})),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"low",children:"ë‚®ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"})]})]}),e.jsx(D,{label:"ë§ˆê°ì¼",type:"date",value:p.dueDate,onChange:m=>y(n=>({...n,dueDate:m.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}}),e.jsx(D,{label:"íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)",value:p.tags,onChange:m=>y(n=>({...n,tags:m.target.value})),fullWidth:!0,placeholder:"ì—…ë¬´, ê°œì¸, ê³µë¶€"})]})}),e.jsxs(xe,{children:[e.jsx(A,{onClick:j,startIcon:e.jsx(he,{}),children:"ì·¨ì†Œ"}),e.jsx(A,{onClick:B,variant:"contained",startIcon:e.jsx(me,{}),disabled:!p.title.trim(),children:"ì €ìž¥"})]})]})]})}),Ft=({todos:s,epics:Y,projects:F,onAddTodo:q,onUpdateTodo:I,onDeleteTodo:f,onToggleComplete:p})=>{const[y,B]=x.useState(""),[j,u]=x.useState({status:"all",priority:"all",epicId:"all",projectId:"all"}),[w,M]=x.useState(0),[E,m]=x.useState(!1),[n,b]=x.useState({title:"",description:"",priority:"medium",dueDate:"",tags:"",epicId:"",projectId:""}),$=x.useMemo(()=>{let t=s;switch(w){case 1:t=t.filter(c=>c.dueDate&&v(c.dueDate).isSame(v(),"day"));break;case 2:t=t.filter(c=>c.dueDate&&v(c.dueDate).isSame(v(),"week"));break;case 3:t=t.filter(c=>c.completed);break}y&&(t=t.filter(c=>{var k,C;return c.title.toLowerCase().includes(y.toLowerCase())||((k=c.description)==null?void 0:k.toLowerCase().includes(y.toLowerCase()))||((C=c.tags)==null?void 0:C.some(J=>J.toLowerCase().includes(y.toLowerCase())))})),j.status&&j.status!=="all"&&(t=t.filter(c=>j.status==="completed"?c.completed:!c.completed)),j.priority&&j.priority!=="all"&&(t=t.filter(c=>c.priority===j.priority)),j.epicId&&j.epicId!=="all"&&(t=t.filter(c=>c.epicId===j.epicId)),j.projectId&&j.projectId!=="all"&&(t=t.filter(c=>c.projectId===j.projectId));const l={urgent:0,high:1,medium:2,low:3};return t.sort((c,k)=>c.completed!==k.completed?c.completed?1:-1:l[c.priority]-l[k.priority])},[s,y,j,w]),S=x.useMemo(()=>{const t=s.length,l=s.filter(C=>C.completed).length,c=s.filter(C=>C.dueDate&&v(C.dueDate).isSame(v(),"day")).length,k=s.filter(C=>C.dueDate&&!C.completed&&v(C.dueDate).isBefore(v(),"day")).length;return{total:t,completed:l,today:c,overdue:k}},[s]),H=()=>{if(!n.title.trim())return;const t={title:n.title,description:n.description||void 0,completed:!1,priority:n.priority,dueDate:n.dueDate||void 0,tags:n.tags?n.tags.split(",").map(l=>l.trim()).filter(Boolean):void 0,epicId:n.epicId||void 0,projectId:n.projectId||void 0};q(t),b({title:"",description:"",priority:"medium",dueDate:"",tags:"",epicId:"",projectId:""}),m(!1)},_=()=>{u({status:"all",priority:"all",epicId:"all",projectId:"all"}),B("")};return e.jsxs(a,{children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(i,{variant:"h4",component:"h1",children:"í• ì¼ ê´€ë¦¬ ðŸ“"}),e.jsx(A,{variant:"contained",startIcon:e.jsx(pe,{}),onClick:()=>m(!0),children:"í• ì¼ ì¶”ê°€"})]}),e.jsx(ne,{sx:{p:2,mb:3},children:e.jsxs(a,{display:"flex",gap:4,children:[e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",children:S.total}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì „ì²´"})]}),e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"success.main",children:S.completed}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì™„ë£Œ"})]}),e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"primary",children:S.today}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì˜¤ëŠ˜"})]}),S.overdue>0&&e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"error",children:S.overdue}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì§€ì—°"})]})]})}),e.jsxs(Ae,{value:w,onChange:(t,l)=>M(l),sx:{mb:2},children:[e.jsx(O,{label:e.jsx(V,{badgeContent:S.total,color:"primary",children:"ì „ì²´"})}),e.jsx(O,{label:e.jsx(V,{badgeContent:S.today,color:"primary",children:"ì˜¤ëŠ˜"})}),e.jsx(O,{label:e.jsx(V,{badgeContent:s.filter(t=>t.dueDate&&v(t.dueDate).isSame(v(),"week")).length,color:"primary",children:"ì´ë²ˆì£¼"})}),e.jsx(O,{label:e.jsx(V,{badgeContent:S.completed,color:"success",children:"ì™„ë£Œ"})})]}),e.jsxs(a,{display:"flex",gap:2,mb:3,flexWrap:"wrap",children:[e.jsx(D,{placeholder:"í• ì¼ ê²€ìƒ‰...",value:y,onChange:t=>B(t.target.value),sx:{minWidth:300},InputProps:{startAdornment:e.jsx(Je,{position:"start",children:e.jsx(Ne,{})})}}),e.jsxs(z,{sx:{minWidth:120},children:[e.jsx(L,{children:"ìƒíƒœ"}),e.jsxs(P,{value:j.status??"all",onChange:t=>u(l=>({...l,status:t.target.value})),label:"ìƒíƒœ",children:[e.jsx(o,{value:"all",children:"ì „ì²´"}),e.jsx(o,{value:"pending",children:"ì§„í–‰ì¤‘"}),e.jsx(o,{value:"completed",children:"ì™„ë£Œ"})]})]}),e.jsxs(z,{sx:{minWidth:120},children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:j.priority??"all",onChange:t=>u(l=>({...l,priority:t.target.value})),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"all",children:"ì „ì²´"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"low",children:"ë‚®ìŒ"})]})]}),e.jsxs(z,{sx:{minWidth:150},children:[e.jsx(L,{children:"ì—í”½"}),e.jsxs(P,{value:j.epicId??"all",onChange:t=>u(l=>({...l,epicId:t.target.value})),label:"ì—í”½",children:[e.jsx(o,{value:"all",children:"ì „ì²´"}),Y.map(t=>e.jsxs(o,{value:t.id,children:[t.emoji," ",t.title]},t.id))]})]}),e.jsx(A,{startIcon:e.jsx(Ve,{}),onClick:_,variant:"outlined",children:"í•„í„° ì´ˆê¸°í™”"})]}),e.jsx(a,{children:$.length===0?e.jsx(ne,{sx:{p:4,textAlign:"center"},children:e.jsx(i,{variant:"h6",color:"text.secondary",children:y||Object.values(j).some(t=>t!=="all")?"ì¡°ê±´ì— ë§žëŠ” í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤ ðŸ”":"ì•„ì§ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ í• ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”! âœ¨"})}):$.map(t=>e.jsx(Pt,{todo:t,onUpdate:I,onDelete:f,onToggleComplete:p},t.id))}),e.jsxs(oe,{open:E,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(ce,{children:"ìƒˆ í• ì¼ ì¶”ê°€ âœ¨"}),e.jsx(de,{children:e.jsxs(a,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[e.jsx(D,{label:"ì œëª©",value:n.title,onChange:t=>b(l=>({...l,title:t.target.value})),fullWidth:!0,required:!0}),e.jsx(D,{label:"ì„¤ëª…",value:n.description,onChange:t=>b(l=>({...l,description:t.target.value})),fullWidth:!0,multiline:!0,rows:3}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:n.priority,onChange:t=>b(l=>({...l,priority:t.target.value})),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"low",children:"ë‚®ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"})]})]}),e.jsx(D,{label:"ë§ˆê°ì¼",type:"date",value:n.dueDate,onChange:t=>b(l=>({...l,dueDate:t.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ì—í”½"}),e.jsxs(P,{value:n.epicId,onChange:t=>b(l=>({...l,epicId:t.target.value})),label:"ì—í”½",children:[e.jsx(o,{value:"",children:"ì„ íƒ ì•ˆí•¨"}),Y.map(t=>e.jsxs(o,{value:t.id,children:[t.emoji," ",t.title]},t.id))]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"í”„ë¡œì íŠ¸"}),e.jsxs(P,{value:n.projectId,onChange:t=>b(l=>({...l,projectId:t.target.value})),label:"í”„ë¡œì íŠ¸",children:[e.jsx(o,{value:"",children:"ì„ íƒ ì•ˆí•¨"}),F.map(t=>e.jsx(o,{value:t.id,children:t.title},t.id))]})]}),e.jsx(D,{label:"íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)",value:n.tags,onChange:t=>b(l=>({...l,tags:t.target.value})),fullWidth:!0,placeholder:"ì—…ë¬´, ê°œì¸, ê³µë¶€"})]})}),e.jsxs(xe,{children:[e.jsx(A,{onClick:()=>m(!1),startIcon:e.jsx(he,{}),children:"ì·¨ì†Œ"}),e.jsx(A,{onClick:H,variant:"contained",startIcon:e.jsx(me,{}),disabled:!n.title.trim(),children:"ì¶”ê°€"})]})]})]})},ye={planning:"#9e9e9e",active:"#4caf50",paused:"#ff9800",completed:"#2196f3",cancelled:"#f44336"},_e={planning:"ê³„íšì¤‘",active:"ì§„í–‰ì¤‘",paused:"ì¼ì‹œì •ì§€",completed:"ì™„ë£Œ",cancelled:"ì·¨ì†Œë¨"},Ge={planning:e.jsx(Oe,{}),active:e.jsx(Oe,{}),paused:e.jsx(bt,{}),completed:e.jsx(Ct,{}),cancelled:e.jsx(he,{})},Mt={urgent:"#f44336",high:"#ff9800",medium:"#2196f3",low:"#4caf50"},He={urgent:"ê¸´ê¸‰",high:"ë†’ìŒ",medium:"ë³´í†µ",low:"ë‚®ìŒ"},Bt=({epic:s,projects:Y,onEdit:F,onDelete:q,onProjectClick:I,onAddProject:f})=>{var H,_;const[p,y]=x.useState(!1),[B,j]=x.useState(!1),[u,w]=x.useState({title:s.title,description:s.description,status:s.status,priority:s.priority,startDate:s.startDate??"",dueDate:s.dueDate??"",color:s.color,emoji:s.emoji??"",tags:((H=s.tags)==null?void 0:H.join(", "))??""}),M=pt(),E=s.isTemporary===!0,m=()=>{const t={...s,title:u.title,description:u.description,status:u.status,priority:u.priority,startDate:u.startDate||void 0,dueDate:u.dueDate||void 0,color:u.color,emoji:u.emoji||void 0,tags:u.tags?u.tags.split(",").map(l=>l.trim()).filter(Boolean):void 0,updatedAt:new Date().toISOString()};F(t),j(!1)},n=()=>{var t;w({title:s.title,description:s.description,status:s.status,priority:s.priority,startDate:s.startDate??"",dueDate:s.dueDate??"",color:s.color,emoji:s.emoji??"",tags:((t=s.tags)==null?void 0:t.join(", "))??""}),j(!1)},b=s.projects.filter(t=>t.status==="completed").length,$=s.projects.length,S=s.dueDate&&s.status!=="completed"&&v(s.dueDate).isBefore(v(),"day");return e.jsxs(ee,{elevation:E?4:2,sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:"all 0.3s ease",border:E?`2px dashed ${M.palette.warning.main}`:"none",backgroundColor:E?"rgba(255, 152, 0, 0.05)":"inherit","&:hover":{transform:"translateY(-4px)",boxShadow:M.shadows[8]}},children:[E&&e.jsx(a,{sx:{backgroundColor:M.palette.warning.main,color:"white",px:2,py:1,textAlign:"center"},children:e.jsx(i,{variant:"caption",fontWeight:"bold",children:"âš ï¸ ìž„ì‹œ ë³´ê´€í•¨ - ìƒˆë¡œìš´ ì—í”½ì„ ë§Œë“¤ì–´ì„œ í”„ë¡œì íŠ¸ë“¤ì„ ì •ë¦¬í•´ë³´ì„¸ìš”!"})}),e.jsx(mt,{avatar:e.jsx(Re,{sx:{bgcolor:s.color,width:48,height:48,fontSize:"1.5rem"},children:s.emoji||Ge[s.status]}),title:e.jsx(i,{variant:"h6",fontWeight:"bold",noWrap:!0,children:s.title}),subheader:e.jsxs(a,{children:[e.jsx(T,{label:_e[s.status],size:"small",sx:{mr:1,mb:.5,backgroundColor:ye[s.status],color:"white"}}),e.jsx(T,{label:He[s.priority],size:"small",variant:"outlined",sx:{mb:.5}})]}),action:!E&&e.jsx(U,{children:e.jsx(gt,{})})}),e.jsx(N,{children:e.jsxs(a,{display:"flex",alignItems:"flex-start",gap:2,children:[s.emoji&&e.jsx(Re,{sx:{bgcolor:s.color,width:48,height:48},children:s.emoji}),e.jsxs(a,{flex:1,children:[e.jsxs(a,{display:"flex",alignItems:"center",gap:1,mb:1,children:[e.jsx(i,{variant:"h5",component:"h2",sx:{flex:1},children:s.title}),e.jsx(T,{size:"small",icon:Ge[s.status],label:_e[s.status],sx:{backgroundColor:ye[s.status],color:"white"}}),e.jsx(T,{size:"small",label:He[s.priority],sx:{backgroundColor:Mt[s.priority],color:"white",fontSize:"0.75rem"}})]}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:s.description}),e.jsxs(a,{mb:2,children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsxs(i,{variant:"body2",children:["ì§„í–‰ë¥ : ",b,"/",$," í”„ë¡œì íŠ¸"]}),e.jsxs(i,{variant:"body2",color:"text.secondary",children:[Math.round(s.progress),"%"]})]}),e.jsx(De,{variant:"determinate",value:s.progress,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:s.color}}})]}),e.jsxs(a,{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",children:[s.startDate&&e.jsx(T,{size:"small",icon:e.jsx(Ce,{}),label:`ì‹œìž‘: ${v(s.startDate).format("MM/DD")}`,variant:"outlined"}),s.dueDate&&e.jsx(T,{size:"small",icon:e.jsx(Ce,{}),label:`ë§ˆê°: ${v(s.dueDate).format("MM/DD")}`,color:S?"error":"default",variant:"outlined"}),(_=s.tags)==null?void 0:_.map((t,l)=>e.jsx(T,{size:"small",label:t,variant:"outlined",sx:{fontSize:"0.7rem"}},l))]})]}),e.jsxs(a,{display:"flex",flexDirection:"column",gap:1,children:[e.jsx(Q,{title:"ìˆ˜ì •",children:e.jsx(U,{size:"small",onClick:()=>j(!0),children:e.jsx(ke,{fontSize:"small"})})}),e.jsx(Q,{title:"ì‚­ì œ",children:e.jsx(U,{size:"small",onClick:()=>q(s),color:"error",children:e.jsx(Te,{fontSize:"small"})})}),e.jsx(Q,{title:p?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:e.jsx(U,{size:"small",onClick:()=>y(!p),children:p?e.jsx(vt,{}):e.jsx(Ke,{})})})]})]})}),e.jsx(ft,{in:p,children:e.jsxs(N,{sx:{pt:0},children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxs(i,{variant:"h6",display:"flex",alignItems:"center",gap:1,children:[e.jsx(je,{})," í”„ë¡œì íŠ¸ (",$,")"]}),e.jsx(A,{startIcon:e.jsx(pe,{}),onClick:()=>f(s.id),variant:"outlined",size:"small",children:"í”„ë¡œì íŠ¸ ì¶”ê°€"})]}),s.projects.length===0?e.jsx(i,{variant:"body2",color:"text.secondary",textAlign:"center",py:2,children:"ì•„ì§ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”! ðŸš€"}):e.jsx(Ie,{dense:!0,children:s.projects.map(t=>e.jsx(we,{sx:{pl:0},children:e.jsx(Se,{primary:e.jsxs(a,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(i,{variant:"body2",children:t.title}),e.jsx(T,{size:"small",label:t.status,sx:{fontSize:"0.7rem",height:"20px",backgroundColor:ye[t.status]??"#grey",color:"white"}})]}),secondary:`ì§„í–‰ë¥ : ${t.progress}% | íƒœìŠ¤í¬: ${t.tasks.length}ê°œ`})},t.id))})]})}),E&&e.jsx(yt,{sx:{justifyContent:"center",pb:2},children:e.jsx(A,{variant:"contained",color:"primary",startIcon:e.jsx(pe,{}),onClick:()=>{F({})},children:"ìƒˆ ì—í”½ ë§Œë“¤ê¸°"})}),e.jsxs(oe,{open:B,onClose:n,maxWidth:"md",fullWidth:!0,children:[e.jsx(ce,{children:"ì—í”½ ìˆ˜ì • ðŸ›ï¸"}),e.jsx(de,{children:e.jsxs(a,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[e.jsxs(a,{display:"flex",gap:2,children:[e.jsx(D,{label:"ì œëª©",value:u.title,onChange:t=>w(l=>({...l,title:t.target.value})),fullWidth:!0,required:!0}),e.jsx(D,{label:"ì´ëª¨ì§€",value:u.emoji,onChange:t=>w(l=>({...l,emoji:t.target.value})),sx:{width:100},placeholder:"ðŸ›ï¸"})]}),e.jsx(D,{label:"ì„¤ëª…",value:u.description,onChange:t=>w(l=>({...l,description:t.target.value})),fullWidth:!0,multiline:!0,rows:3}),e.jsxs(a,{display:"flex",gap:2,children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìƒíƒœ"}),e.jsxs(P,{value:u.status,onChange:t=>w(l=>({...l,status:t.target.value})),label:"ìƒíƒœ",children:[e.jsx(o,{value:"planning",children:"ê³„íšì¤‘"}),e.jsx(o,{value:"active",children:"ì§„í–‰ì¤‘"}),e.jsx(o,{value:"paused",children:"ì¼ì‹œì •ì§€"}),e.jsx(o,{value:"completed",children:"ì™„ë£Œ"}),e.jsx(o,{value:"cancelled",children:"ì·¨ì†Œë¨"})]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:u.priority,onChange:t=>w(l=>({...l,priority:t.target.value})),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"low",children:"ë‚®ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"})]})]})]}),e.jsxs(a,{display:"flex",gap:2,children:[e.jsx(D,{label:"ì‹œìž‘ì¼",type:"date",value:u.startDate,onChange:t=>w(l=>({...l,startDate:t.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}}),e.jsx(D,{label:"ë§ˆê°ì¼",type:"date",value:u.dueDate,onChange:t=>w(l=>({...l,dueDate:t.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}})]}),e.jsx(D,{label:"ìƒ‰ìƒ",type:"color",value:u.color,onChange:t=>w(l=>({...l,color:t.target.value})),fullWidth:!0}),e.jsx(D,{label:"íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)",value:u.tags,onChange:t=>w(l=>({...l,tags:t.target.value})),fullWidth:!0,placeholder:"ì—…ë¬´, ê°œì¸, í”„ë¡œì íŠ¸"})]})}),e.jsxs(xe,{children:[e.jsx(A,{onClick:n,startIcon:e.jsx(he,{}),children:"ì·¨ì†Œ"}),e.jsx(A,{onClick:m,variant:"contained",startIcon:e.jsx(me,{}),disabled:!u.title.trim(),children:"ì €ìž¥"})]})]})]})},$t=({epics:s,onAddEpic:Y,onUpdateEpic:F,onDeleteEpic:q,onAddProject:I})=>{const[f,p]=x.useState(""),[y,B]=x.useState("all"),[j,u]=x.useState("all"),[w,M]=x.useState(0),[E,m]=x.useState(!1),[n,b]=x.useState({title:"",description:"",status:"planning",priority:"medium",startDate:"",dueDate:"",color:"#2196f3",emoji:"ðŸ›ï¸",tags:""}),$=x.useMemo(()=>{let t=s;switch(w){case 1:t=t.filter(c=>c.status==="active");break;case 2:t=t.filter(c=>c.status==="completed");break}f&&(t=t.filter(c=>{var k;return c.title.toLowerCase().includes(f.toLowerCase())||c.description.toLowerCase().includes(f.toLowerCase())||((k=c.tags)==null?void 0:k.some(C=>C.toLowerCase().includes(f.toLowerCase())))})),y!=="all"&&(t=t.filter(c=>c.status===y)),j!=="all"&&(t=t.filter(c=>c.priority===j));const l={urgent:0,high:1,medium:2,low:3};return t.sort((c,k)=>c.status==="completed"&&k.status!=="completed"?1:c.status!=="completed"&&k.status==="completed"?-1:l[c.priority]-l[k.priority])},[s,f,y,j,w]),S=x.useMemo(()=>{const t=s.length,l=s.filter(C=>C.status==="active").length,c=s.filter(C=>C.status==="completed").length,k=s.filter(C=>C.status==="planning").length;return{total:t,active:l,completed:c,planning:k}},[s]),H=()=>{if(!n.title.trim())return;const t={title:n.title,description:n.description,status:n.status,priority:n.priority,startDate:n.startDate||void 0,dueDate:n.dueDate||void 0,color:n.color,emoji:n.emoji||void 0,tags:n.tags?n.tags.split(",").map(l=>l.trim()).filter(Boolean):void 0};Y(t),b({title:"",description:"",status:"planning",priority:"medium",startDate:"",dueDate:"",color:"#2196f3",emoji:"ðŸ›ï¸",tags:""}),m(!1)},_=()=>{B("all"),u("all"),p("")};return e.jsxs(a,{children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(i,{variant:"h4",component:"h1",children:"ì—í”½ ê´€ë¦¬ ðŸ›ï¸"}),e.jsx(A,{variant:"contained",startIcon:e.jsx(pe,{}),onClick:()=>m(!0),children:"ì—í”½ ì¶”ê°€"})]}),e.jsx(ne,{sx:{p:2,mb:3},children:e.jsxs(a,{display:"flex",gap:4,children:[e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",children:S.total}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì „ì²´"})]}),e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"primary",children:S.active}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì§„í–‰ì¤‘"})]}),e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"success.main",children:S.completed}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì™„ë£Œ"})]}),e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h6",color:"warning.main",children:S.planning}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ê³„íšì¤‘"})]})]})}),e.jsxs(Ae,{value:w,onChange:(t,l)=>M(l),sx:{mb:2},children:[e.jsx(O,{label:e.jsx(V,{badgeContent:S.total,color:"primary",children:"ì „ì²´"})}),e.jsx(O,{label:e.jsx(V,{badgeContent:S.active,color:"primary",children:"ì§„í–‰ì¤‘"})}),e.jsx(O,{label:e.jsx(V,{badgeContent:S.completed,color:"success",children:"ì™„ë£Œ"})})]}),e.jsxs(a,{display:"flex",gap:2,mb:3,flexWrap:"wrap",children:[e.jsx(D,{placeholder:"ì—í”½ ê²€ìƒ‰...",value:f,onChange:t=>p(t.target.value),sx:{minWidth:300},InputProps:{startAdornment:e.jsx(Je,{position:"start",children:e.jsx(Ne,{})})}}),e.jsxs(z,{sx:{minWidth:120},children:[e.jsx(L,{children:"ìƒíƒœ"}),e.jsxs(P,{value:y,onChange:t=>B(t.target.value),label:"ìƒíƒœ",children:[e.jsx(o,{value:"all",children:"ì „ì²´"}),e.jsx(o,{value:"planning",children:"ê³„íšì¤‘"}),e.jsx(o,{value:"active",children:"ì§„í–‰ì¤‘"}),e.jsx(o,{value:"paused",children:"ì¼ì‹œì •ì§€"}),e.jsx(o,{value:"completed",children:"ì™„ë£Œ"}),e.jsx(o,{value:"cancelled",children:"ì·¨ì†Œë¨"})]})]}),e.jsxs(z,{sx:{minWidth:120},children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:j,onChange:t=>u(t.target.value),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"all",children:"ì „ì²´"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"low",children:"ë‚®ìŒ"})]})]}),e.jsx(A,{startIcon:e.jsx(Ve,{}),onClick:_,variant:"outlined",children:"í•„í„° ì´ˆê¸°í™”"})]}),e.jsx(a,{children:$.length===0?e.jsx(ne,{sx:{p:4,textAlign:"center"},children:e.jsx(i,{variant:"h6",color:"text.secondary",children:f||y!=="all"||j!=="all"?"ì¡°ê±´ì— ë§žëŠ” ì—í”½ì´ ì—†ìŠµë‹ˆë‹¤ ðŸ”":"ì•„ì§ ì—í”½ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì—í”½ì„ ì¶”ê°€í•´ë³´ì„¸ìš”! ðŸ›ï¸"})}):e.jsx(W,{container:!0,spacing:2,children:$.map(t=>e.jsx(W,{item:!0,xs:12,children:e.jsx(Bt,{epic:t,onEdit:F,onDelete:l=>q(l.id),onAddProject:I})},t.id))})}),e.jsxs(oe,{open:E,onClose:()=>m(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(ce,{children:"ìƒˆ ì—í”½ ì¶”ê°€ ðŸ›ï¸"}),e.jsx(de,{children:e.jsxs(a,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[e.jsxs(a,{display:"flex",gap:2,children:[e.jsx(D,{label:"ì œëª©",value:n.title,onChange:t=>b(l=>({...l,title:t.target.value})),fullWidth:!0,required:!0}),e.jsx(D,{label:"ì´ëª¨ì§€",value:n.emoji,onChange:t=>b(l=>({...l,emoji:t.target.value})),sx:{width:100},placeholder:"ðŸ›ï¸"})]}),e.jsx(D,{label:"ì„¤ëª…",value:n.description,onChange:t=>b(l=>({...l,description:t.target.value})),fullWidth:!0,multiline:!0,rows:3,required:!0}),e.jsxs(a,{display:"flex",gap:2,children:[e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìƒíƒœ"}),e.jsxs(P,{value:n.status,onChange:t=>b(l=>({...l,status:t.target.value})),label:"ìƒíƒœ",children:[e.jsx(o,{value:"planning",children:"ê³„íšì¤‘"}),e.jsx(o,{value:"active",children:"ì§„í–‰ì¤‘"}),e.jsx(o,{value:"paused",children:"ì¼ì‹œì •ì§€"}),e.jsx(o,{value:"completed",children:"ì™„ë£Œ"}),e.jsx(o,{value:"cancelled",children:"ì·¨ì†Œë¨"})]})]}),e.jsxs(z,{fullWidth:!0,children:[e.jsx(L,{children:"ìš°ì„ ìˆœìœ„"}),e.jsxs(P,{value:n.priority,onChange:t=>b(l=>({...l,priority:t.target.value})),label:"ìš°ì„ ìˆœìœ„",children:[e.jsx(o,{value:"low",children:"ë‚®ìŒ"}),e.jsx(o,{value:"medium",children:"ë³´í†µ"}),e.jsx(o,{value:"high",children:"ë†’ìŒ"}),e.jsx(o,{value:"urgent",children:"ê¸´ê¸‰"})]})]})]}),e.jsxs(a,{display:"flex",gap:2,children:[e.jsx(D,{label:"ì‹œìž‘ì¼",type:"date",value:n.startDate,onChange:t=>b(l=>({...l,startDate:t.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}}),e.jsx(D,{label:"ë§ˆê°ì¼",type:"date",value:n.dueDate,onChange:t=>b(l=>({...l,dueDate:t.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}})]}),e.jsx(D,{label:"ìƒ‰ìƒ",type:"color",value:n.color,onChange:t=>b(l=>({...l,color:t.target.value})),fullWidth:!0}),e.jsx(D,{label:"íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)",value:n.tags,onChange:t=>b(l=>({...l,tags:t.target.value})),fullWidth:!0,placeholder:"ì—…ë¬´, ê°œì¸, í”„ë¡œì íŠ¸"})]})}),e.jsxs(xe,{children:[e.jsx(A,{onClick:()=>m(!1),startIcon:e.jsx(he,{}),children:"ì·¨ì†Œ"}),e.jsx(A,{onClick:H,variant:"contained",startIcon:e.jsx(me,{}),disabled:!n.title.trim()||!n.description.trim(),children:"ì¶”ê°€"})]})]})]})},Ut=()=>{const[s,Y]=x.useState(0),[F,q]=x.useState(!1),{todos:I,epics:f,projects:p,addTodo:y,updateTodo:B,deleteTodo:j,toggleTodoComplete:u,addEpic:w,updateEpic:M,deleteEpic:E,addProject:m,deleteProject:n,getTodosByProjectId:b,getEpicById:$,getProjectsByEpicId:S,refreshFirebaseData:H,syncFirebaseToLocal:_,migrateLocalDataToFirebase:t,isMigrationButtonActive:l,checkLocalDataForMigration:c}=zt(),[k,C]=x.useState(!1),[J,We]=x.useState(null),[te,Ee]=x.useState([]),[ze,Le]=x.useState(!1),[Pe,Fe]=x.useState(!1),[ge,Me]=x.useState(!1),[K,X]=x.useState(null),[Z,se]=x.useState(null),Xe=async()=>{q(!0),se(null);try{const r=await _();se(r.message),r.success&&console.log("ðŸ”„ ë™ê¸°í™” ì„±ê³µ:",r.details)}catch(r){console.error("âŒ ë™ê¸°í™” ì²˜ë¦¬ ì‹¤íŒ¨:",r),se(`ë™ê¸°í™” ì‹¤íŒ¨: ${r}`)}finally{q(!1)}},Ze=async()=>{if(!c().hasData){X("ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë¡œì»¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");return}Me(!0),X(null);try{const d=await t();X(d.message),d.success&&console.log("ðŸŽ‰ ë§ˆì´ê·¸ë ˆì´ì…˜ ì„±ê³µ:",d.details)}catch(d){console.error("âŒ ë§ˆì´ê·¸ë ˆì´ì…˜ ì²˜ë¦¬ ì‹¤íŒ¨:",d),X(`ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨: ${d}`)}finally{Me(!1)}},ve=x.useMemo(()=>{const r=l(),d=c();return{show:r&&d.hasData,disabled:ge||!d.hasData,tooltip:r?d.hasData?`ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥: ì—í”½ ${d.epicsCount}ê°œ, í”„ë¡œì íŠ¸ ${d.projectsCount}ê°œ, í• ì¼ ${d.todosCount}ê°œ`:"ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë¡œì»¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤":"ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ëŠ¥ì€ 2025ë…„ 8ì›” 8ì¼ê¹Œì§€ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤"}},[ge,l,c]);x.useEffect(()=>{if(K&&K.includes("ì„±ê³µ")){const r=setTimeout(()=>{X(null)},5e3);return()=>clearTimeout(r)}},[K]),x.useEffect(()=>{if(Z&&Z.includes("ì™„ë£Œ")){const r=setTimeout(()=>{se(null)},5e3);return()=>clearTimeout(r)}},[Z]);const R=x.useMemo(()=>{const r=I.length,d=I.filter(h=>h.completed).length,g=r>0?Math.round(d/r*100):0,G=I.filter(h=>h.dueDate&&v(h.dueDate).isSame(v(),"day")).length,fe=I.filter(h=>h.dueDate&&!h.completed&&v(h.dueDate).isBefore(v(),"day")).length,ue=I.filter(h=>h.dueDate&&!h.completed&&v(h.dueDate).isAfter(v(),"day")).length,re={urgent:I.filter(h=>h.priority==="urgent").length,high:I.filter(h=>h.priority==="high").length,medium:I.filter(h=>h.priority==="medium").length,low:I.filter(h=>h.priority==="low").length},ae=[];for(let h=6;h>=0;h--){const xt=v().subtract(h,"day").format("YYYY-MM-DD"),ht=I.filter($e=>$e.completedAt&&v($e.completedAt).isSame(v().subtract(h,"day"),"day")).length;ae.push({date:xt,completed:ht})}return{totalTodos:r,completedTodos:d,completionRate:g,todayTodos:G,overdueTodos:fe,upcomingTodos:ue,priorityBreakdown:re,dailyCompletions:ae}},[I]),le=x.useMemo(()=>{const r=f.length,d=f.filter(h=>h.status==="active").length,g=f.filter(h=>h.status==="completed").length,G=p.length,fe=p.filter(h=>h.status==="completed").length,ue=I.filter(h=>h.epicId),re=ue.length,ae=ue.filter(h=>h.completed).length;return{totalEpics:r,activeEpics:d,completedEpics:g,totalProjects:G,completedProjects:fe,totalTodos:re,completedTodos:ae,completionRate:re>0?Math.round(ae/re*100):0}},[f,p,I]),Be=x.useMemo(()=>{const r=[];p.forEach(g=>{const G=b(g.id);G.length>0&&r.push({type:"project",project:g,todos:G,epic:$(g.epicId||"")||null})});const d=I.filter(g=>!g.projectId);return d.length>0&&r.push({type:"unassigned",project:null,todos:d,epic:null}),r},[p,I,b,$]),et=async r=>{await y(r)},tt=async r=>{await B(r)},st=async r=>{await j(r)},lt=async r=>{await u(r)},rt=async r=>{await w(r)},at=async r=>{await M(r)},it=r=>{const d=f.find(G=>G.id===r)??null,g=S(r)??[];We(d),Ee(g),Le(!1),C(!0)},nt=async()=>{if(J)try{Fe(!0),ze&&te.length>0&&await Promise.all(te.map(r=>n(r.id))),await E(J.id),C(!1),We(null),Ee([])}finally{Fe(!1)}},ot=async r=>{const d=prompt("í”„ë¡œì íŠ¸ ì œëª©ì„ ìž…ë ¥í•˜ì„¸ìš”:");d&&d.trim()&&await m({title:d.trim(),description:"",status:"active",priority:"medium",startDate:v().toISOString(),progress:0,tags:[]},r)},ct=()=>e.jsxs(a,{children:[e.jsx(i,{variant:"h5",gutterBottom:!0,children:"ê³„íš ê´€ë¦¬ ê°œìš” ðŸ“Š"}),e.jsxs(W,{container:!0,spacing:3,children:[e.jsx(W,{item:!0,xs:12,md:6,children:e.jsx(ee,{children:e.jsxs(N,{children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,display:"flex",alignItems:"center",gap:1,children:[e.jsx(je,{color:"primary"}),"í• ì¼ í†µê³„"]}),e.jsxs(a,{mb:2,children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsx(i,{variant:"body2",children:"ì™„ë£Œìœ¨"}),e.jsxs(i,{variant:"body2",children:[R.completionRate,"%"]})]}),e.jsx(De,{variant:"determinate",value:R.completionRate,sx:{height:8,borderRadius:4}})]}),e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"primary",children:R.totalTodos}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì „ì²´"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"success.main",children:R.completedTodos}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì™„ë£Œ"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"warning.main",children:R.todayTodos}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì˜¤ëŠ˜"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"error.main",children:R.overdueTodos}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì§€ì—°"})]})})]}),e.jsxs(a,{mt:2,children:[e.jsx(i,{variant:"body2",gutterBottom:!0,children:"ìš°ì„ ìˆœìœ„ë³„ ë¶„í¬"}),e.jsxs(a,{display:"flex",gap:1,flexWrap:"wrap",children:[e.jsx(T,{size:"small",label:`ê¸´ê¸‰ ${R.priorityBreakdown.urgent}`,color:"error"}),e.jsx(T,{size:"small",label:`ë†’ìŒ ${R.priorityBreakdown.high}`,color:"warning"}),e.jsx(T,{size:"small",label:`ë³´í†µ ${R.priorityBreakdown.medium}`,color:"primary"}),e.jsx(T,{size:"small",label:`ë‚®ìŒ ${R.priorityBreakdown.low}`,color:"success"})]})]})]})})}),e.jsx(W,{item:!0,xs:12,md:6,children:e.jsx(ee,{children:e.jsxs(N,{children:[e.jsxs(i,{variant:"h6",gutterBottom:!0,display:"flex",alignItems:"center",gap:1,children:[e.jsx(Ue,{color:"secondary"}),"ì—í”½ í†µê³„"]}),e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"primary",children:le.totalEpics}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì „ì²´ ì—í”½"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"success.main",children:le.activeEpics}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì§„í–‰ì¤‘"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"info.main",children:le.totalProjects}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì´ í”„ë¡œì íŠ¸"})]})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(a,{textAlign:"center",children:[e.jsx(i,{variant:"h4",color:"secondary.main",children:le.totalTodos}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ì—í”½ í• ì¼"})]})})]})]})})}),e.jsx(W,{item:!0,xs:12,children:e.jsx(ee,{children:e.jsxs(N,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"ì§„í–‰ì¤‘ì¸ ì—í”½ë“¤ ðŸš€"}),f.filter(r=>r.status==="active").length===0?e.jsx(i,{variant:"body2",color:"text.secondary",textAlign:"center",py:2,children:"ì§„í–‰ì¤‘ì¸ ì—í”½ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì—í”½ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”! âœ¨"}):e.jsx(a,{display:"flex",flexDirection:"column",gap:2,children:f.filter(r=>r.status==="active").slice(0,3).map(r=>e.jsxs(a,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(a,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:r.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:r.emoji}),e.jsxs(a,{flex:1,children:[e.jsx(i,{variant:"body1",fontWeight:"bold",children:r.title}),e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:r.description}),e.jsxs(i,{variant:"body2",children:[Math.round(r.progress),"%"]})]}),e.jsx(De,{variant:"determinate",value:r.progress,sx:{mt:.5,height:4,borderRadius:2,"& .MuiLinearProgress-bar":{backgroundColor:r.color}}})]})]},r.id))})]})})})]})]}),dt=()=>e.jsxs(a,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:"ðŸ“ í”„ë¡œì íŠ¸ë³„ í• ì¼ ê´€ë¦¬"}),Be.length===0?e.jsx(ee,{sx:{borderRadius:2},children:e.jsxs(N,{sx:{textAlign:"center",py:6},children:[e.jsx(i,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"ì•„ì§ í• ì¼ì´ ì—†ì–´ìš”! ðŸ“"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"ìƒˆë¡œìš´ í• ì¼ì„ ì¶”ê°€í•´ì„œ í”„ë¡œì íŠ¸ë³„ë¡œ ê´€ë¦¬í•´ë³´ì„¸ìš”!"})]})}):Be.map((r,d)=>e.jsxs(Tt,{sx:{mb:2,borderRadius:2},children:[e.jsx(At,{expandIcon:e.jsx(Ke,{}),children:e.jsxs(a,{display:"flex",alignItems:"center",gap:2,width:"100%",children:[r.type==="project"&&r.project?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{color:"primary"}),e.jsxs(a,{flex:1,children:[e.jsx(i,{variant:"h6",children:r.project.title}),r.epic&&e.jsx(T,{size:"small",label:`${r.epic.emoji} ${r.epic.title}`,sx:{fontSize:"0.7rem",backgroundColor:r.epic.color+"20",color:r.epic.color,border:`1px solid ${r.epic.color}40`,mt:.5,borderRadius:2}})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{color:"secondary"}),e.jsx(i,{variant:"h6",flex:1,children:"ë¯¸ë¶„ë¥˜ í• ì¼"})]}),e.jsx(T,{size:"small",label:`${r.todos.filter(g=>g.completed).length}/${r.todos.length}`,color:"primary",sx:{borderRadius:2}})]})}),e.jsx(Wt,{children:e.jsx(Ie,{dense:!0,children:r.todos.map(g=>e.jsxs(we,{sx:{px:0},children:[e.jsx(Et,{sx:{minWidth:32},children:e.jsx(be,{size:"small",checked:g.completed,onChange:()=>u(g.id)})}),e.jsx(Se,{primary:e.jsx(i,{variant:"body2",sx:{textDecoration:g.completed?"line-through":"none",opacity:g.completed?.7:1},children:g.title}),secondary:e.jsxs(a,{display:"flex",alignItems:"center",gap:1,mt:.5,children:[e.jsx(T,{size:"small",label:g.priority==="urgent"?"ê¸´ê¸‰":g.priority==="high"?"ë†’ìŒ":g.priority==="medium"?"ë³´í†µ":"ë‚®ìŒ",color:g.priority==="urgent"?"error":g.priority==="high"?"warning":g.priority==="medium"?"primary":"success",sx:{fontSize:"0.7rem",height:"18px",borderRadius:2}}),g.dueDate&&e.jsx(i,{variant:"caption",color:"text.secondary",children:v(g.dueDate).format("MM/DD")})]})}),e.jsxs(a,{display:"flex",gap:.5,children:[e.jsx(Q,{title:"ìˆ˜ì •",children:e.jsx(U,{size:"small",onClick:()=>{console.log("Edit todo:",g.id)},children:e.jsx(ke,{fontSize:"small"})})}),e.jsx(Q,{title:"ì‚­ì œ",children:e.jsx(U,{size:"small",color:"error",onClick:()=>j(g.id),children:e.jsx(Te,{fontSize:"small"})})})]})]},g.id))})})]},d))]});return e.jsxs(Dt,{maxWidth:"xl",children:[e.jsx(i,{variant:"h4",component:"h1",fontWeight:"bold",children:"ðŸ“ ê³„íš ê´€ë¦¬"}),e.jsxs(a,{py:3,children:[e.jsx(a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:e.jsxs(a,{display:"flex",gap:2,children:[e.jsx(Q,{title:"ðŸ”„ Firebase â†’ ë¡œì»¬ ë™ê¸°í™” (Firebase ë°ì´í„°ë¡œ ë¡œì»¬ ë°ì´í„°ë¥¼ ë®ì–´ì”ë‹ˆë‹¤)",children:e.jsx(A,{variant:"outlined",startIcon:e.jsx(It,{sx:{animation:F?"spin 1s linear infinite":"none"}}),onClick:Xe,disabled:F,sx:{"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},children:F?"ë™ê¸°í™” ì¤‘...":"Firebase â†’ ë¡œì»¬ ë™ê¸°í™”"})}),ve.show&&e.jsx(Q,{title:ve.tooltip,children:e.jsx(A,{variant:"outlined",startIcon:e.jsx(wt,{}),onClick:Ze,disabled:ve.disabled,color:"warning",sx:{borderColor:"orange",color:"orange","&:hover":{borderColor:"darkorange",backgroundColor:"rgba(255, 165, 0, 0.04)"}},children:ge?"ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤‘...":"ë¡œì»¬ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜"})})]})}),e.jsx(ie,{severity:"info",sx:{mb:3},children:e.jsxs(i,{variant:"body2",children:["ðŸ’¡ ",e.jsx("strong",{children:"ë½€ëª¨ë„ë¡œì—ì„œ ìƒì„±í•œ í”„ë¡œì íŠ¸ì™€ í• ì¼"}),"ì´ ì—¬ê¸°ì— í•¨ê»˜ í‘œì‹œë©ë‹ˆë‹¤.",e.jsx("strong",{children:'"Firebase â†’ ë¡œì»¬ ë™ê¸°í™”"'})," ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ Firebaseì˜ ìµœì‹  ë°ì´í„°ë¡œ ë¡œì»¬ ë°ì´í„°ë¥¼ êµì²´í•©ë‹ˆë‹¤!"]})}),(()=>{const r=l(),d=c();return r&&d.hasData?e.jsx(ie,{severity:"warning",sx:{mb:3},children:e.jsxs(i,{variant:"body2",children:["ðŸš€ ",e.jsx("strong",{children:"ë¡œì»¬ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥!"}),"ì—í”½ ",d.epicsCount,"ê°œ, í”„ë¡œì íŠ¸ ",d.projectsCount,"ê°œ, í• ì¼ ",d.todosCount,"ê°œë¥¼ Firebaseë¡œ ì´ë™í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (2025ë…„ 8ì›” 8ì¼ê¹Œì§€ ì´ìš© ê°€ëŠ¥)"]})}):r&&!d.hasData?e.jsx(ie,{severity:"success",sx:{mb:3},children:e.jsxs(i,{variant:"body2",children:["âœ… ",e.jsx("strong",{children:"ëª¨ë“  ë°ì´í„°ê°€ Firebaseì— ì €ìž¥ë˜ì–´ ìžˆìŠµë‹ˆë‹¤!"}),"ë§ˆì´ê·¸ë ˆì´ì…˜í•  ë¡œì»¬ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤."]})}):null})(),K&&e.jsx(ie,{severity:K.includes("ì„±ê³µ")?"success":"error",sx:{mb:3},action:e.jsx(U,{size:"small",onClick:()=>X(null),sx:{"&:hover":{backgroundColor:"transparent"}},children:e.jsx(qe,{fontSize:"small"})}),children:K}),Z&&e.jsx(ie,{severity:Z.includes("ì™„ë£Œ")?"success":"error",sx:{mb:3},action:e.jsx(U,{size:"small",onClick:()=>se(null),sx:{"&:hover":{backgroundColor:"transparent"}},children:e.jsx(qe,{fontSize:"small"})}),children:Z}),e.jsx(ne,{sx:{mb:3},children:e.jsxs(Ae,{value:s,onChange:(r,d)=>Y(d),variant:"fullWidth",children:[e.jsx(O,{icon:e.jsx(St,{}),label:"ê°œìš”",iconPosition:"start"}),e.jsx(O,{icon:e.jsx(je,{}),label:`í• ì¼ (${R.totalTodos})`,iconPosition:"start"}),e.jsx(O,{icon:e.jsx(Ue,{}),label:`ì—í”½ (${le.totalEpics})`,iconPosition:"start"}),e.jsx(O,{icon:e.jsx(Ye,{}),label:`í”„ë¡œì íŠ¸ (${p.length})`,iconPosition:"start"})]})}),e.jsxs(a,{children:[s===0&&ct(),s===1&&e.jsx(Ft,{todos:I,epics:f,projects:p,onAddTodo:et,onUpdateTodo:tt,onDeleteTodo:st,onToggleComplete:lt}),s===2&&e.jsx($t,{epics:f,onAddEpic:rt,onUpdateEpic:at,onDeleteEpic:it,onAddProject:ot}),s===3&&dt()]})]}),e.jsxs(oe,{open:k,onClose:()=>C(!1),children:[e.jsx(ce,{children:"ì—í”½ ì‚­ì œ"}),e.jsxs(de,{children:[e.jsxs(i,{variant:"body1",children:['"',J==null?void 0:J.title,'" ì—í”½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',te.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"ì´ ì—í”½ì— ì†í•œ í”„ë¡œì íŠ¸ ",te.length,"ê°œë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤."]})]}),e.jsxs(a,{mt:2,children:[e.jsx(i,{variant:"body2",fontWeight:"bold",children:"ì‚­ì œë  í”„ë¡œì íŠ¸:"}),e.jsx(Ie,{dense:!0,children:te.map(r=>e.jsx(we,{sx:{py:.5},children:e.jsx(Se,{primary:r.title})},r.id))})]}),e.jsx(kt,{control:e.jsx(be,{checked:ze,onChange:r=>Le(r.target.checked),name:"alsoDeleteProjects",color:"primary"}),label:"í•¨ê»˜ ì‚­ì œ"})]}),e.jsxs(xe,{children:[e.jsx(A,{onClick:()=>C(!1),color:"primary",children:"ì·¨ì†Œ"}),e.jsx(A,{onClick:nt,color:"error",variant:"contained",disabled:Pe,children:Pe?"ì‚­ì œ ì¤‘...":"ì‚­ì œ"})]})]})]})};export{Ut as default};
