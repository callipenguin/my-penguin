import{u as w,a as n,j as a,B as d,a6 as H,a7 as T,T as j}from"./mui-1d16f996.js";import"./dayjs-9d6a636c.js";const q=({width:r=800,height:i=400,projects:p=[]})=>{const u=w(),f=n.useRef(null),x=n.useRef(),[C,m]=n.useState([]),[c,g]=n.useState(null),[A,F]=n.useState({x:0,y:0}),b=n.useCallback(()=>{const e=[],t=p.length>0?Math.min(p.length,8):1;for(let s=0;s<t;s++){const o={id:s,x:Math.random()*(r-60)+30,y:Math.random()*(i-60)+30,targetX:Math.random()*(r-60)+30,targetY:Math.random()*(i-60)+30,speed:.5+Math.random()*.4,emoji:s%4===0?"üê±":s%4===1?"üß∂":s%4===2?"ü™ë":"üõèÔ∏è",project:p[s]||void 0,lastMove:Date.now(),isPouncing:!1,pounceEndTime:0,isHovered:!1};e.push(o)}m(e)},[r,i,p]),y=n.useCallback(()=>{m(e=>e.map(t=>{const s=Date.now();let o={...t};if(o.isPouncing&&s>o.pounceEndTime&&(o.isPouncing=!1),o.isHovered||o.emoji!=="üê±")return o;const l=Math.sqrt(Math.pow(o.x-o.targetX,2)+Math.pow(o.y-o.targetY,2));(l<5||s-o.lastMove>2e3+Math.random()*2e3)&&(Math.random()<.3&&(o.isPouncing=!0,o.pounceEndTime=s+500),o.targetX=Math.random()*(r-60)+30,o.targetY=Math.random()*(i-60)+30,o.lastMove=s);const E=o.targetX-o.x,R=o.targetY-o.y,S=o.isPouncing?o.speed*2:o.speed,v=Math.min(S,l);return l>0&&(o.x+=E/l*v,o.y+=R/l*v),o}))},[r,i]),h=n.useCallback(()=>{y(),x.current=requestAnimationFrame(h)},[y]),k=e=>{if(f.current){const t=f.current.getBoundingClientRect();F({x:e.clientX-t.left,y:e.clientY-t.top})}},M=(e,t)=>{m(s=>s.map(o=>o.id===e.id?{...o,isHovered:t}:o)),t&&e.project&&e.emoji==="üê±"?g(e.project):t||g(null)},z=()=>{g(null),m(e=>e.map(t=>({...t,isHovered:!1})))};n.useEffect(()=>(b(),x.current=requestAnimationFrame(h),()=>{x.current&&cancelAnimationFrame(x.current)}),[b,h]);const P=[{emoji:"ü™ü",x:"85%",y:"15%",size:"40px",opacity:.8},{emoji:"üî•",x:"15%",y:"80%",size:"30px",opacity:.9},{emoji:"üìö",x:"20%",y:"25%",size:"25px",opacity:.7},{emoji:"üñºÔ∏è",x:"70%",y:"20%",size:"35px",opacity:.6},{emoji:"ü™¥",x:"90%",y:"70%",size:"28px",opacity:.8},{emoji:"üïØÔ∏è",x:"25%",y:"70%",size:"20px",opacity:.7},{emoji:"‚ú®",x:"60%",y:"85%",size:"18px",opacity:.6}];return a.jsxs(d,{ref:f,sx:{position:"relative",width:r,height:i,background:"linear-gradient(135deg, #FFF8E1 0%, #FFCC02 25%, #FF8A65 50%, #FF7043 100%)",borderRadius:2,overflow:"hidden",cursor:"pointer"},onMouseMove:k,onMouseLeave:z,children:[P.map((e,t)=>a.jsx(d,{sx:{position:"absolute",left:e.x,top:e.y,fontSize:e.size,opacity:e.opacity,pointerEvents:"none",userSelect:"none"},children:e.emoji},t)),C.map(e=>a.jsx(d,{sx:{position:"absolute",left:e.x,top:e.y,fontSize:e.emoji==="üê±"?"24px":"18px",cursor:e.project?"pointer":"default",transform:`translate(-50%, -50%) ${e.isHovered?"scale(1.3)":e.isPouncing?"scale(1.3) rotate(10deg)":"scale(1)"}`,transition:e.isPouncing||e.isHovered?"transform 0.1s ease":"transform 0.3s ease",zIndex:e.emoji==="üê±"?10:5,filter:e.isHovered?"drop-shadow(0 0 8px rgba(255, 112, 67, 0.8))":"none"},onMouseEnter:()=>M(e,!0),onMouseLeave:()=>M(e,!1),children:e.emoji},e.id)),c&&a.jsx(H,{sx:{position:"absolute",top:16,left:16,minWidth:200,maxWidth:300,zIndex:1e3,boxShadow:"0 8px 32px rgba(0,0,0,0.3)",borderRadius:2,border:"2px solid #ff7043",backdropFilter:"blur(8px)",backgroundColor:u.palette.mode==="dark"?"rgba(40, 30, 20, 0.95)":"rgba(255, 248, 225, 0.95)"},children:a.jsxs(T,{sx:{p:2},children:[a.jsxs(j,{variant:"subtitle1",fontWeight:"bold",sx:{color:u.palette.mode==="dark"?"#FF8A65":"#ff7043"},children:["üê± ",c.title]}),a.jsx(j,{variant:"body2",sx:{mt:1,color:u.palette.mode==="dark"?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.6)"},children:c.description}),a.jsxs(d,{sx:{mt:1,display:"flex",alignItems:"center",gap:1},children:[a.jsxs(j,{variant:"caption",sx:{color:u.palette.mode==="dark"?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.8)"},children:["ÏßÑÌñâÎ•†: ",c.progress,"%"]}),a.jsx(d,{sx:{flex:1,height:4,backgroundColor:"rgba(255, 112, 67, 0.2)",borderRadius:2,overflow:"hidden"},children:a.jsx(d,{sx:{height:"100%",width:`${c.progress}%`,backgroundColor:"#ff7043",transition:"width 0.3s ease"}})})]})]})})]})};export{q as default};
