# ğŸ§ í­ê·„ ë¹„ì„œ - Cursor Rules (Updated 2024.08)

## ğŸ“‹ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸
- **í”„ë¡œì íŠ¸ëª…**: í­ê·„ ë¹„ì„œ (Penguin Assistant)
- **ëª©í‘œ**: ë¹™í•˜ í…Œë§ˆì˜ ê°œì¸ ìƒì‚°ì„± ê´€ë¦¬ ë„êµ¬
- **ê¸°ìˆ ìŠ¤íƒ**: React + TypeScript + MUI + Three.js + Firebase
- **í…Œë§ˆ**: ë¹™í•˜/í­ê·„ (íŒŒë€ìƒ‰, í°ìƒ‰, ì£¼í™©ìƒ‰ ì¡°í•©)
- **ë°°í¬**: GitHub Pages (Web App)
- **ì–¸ì–´**: í•œêµ­ì–´ ì „ìš©

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥
1. **ë¹™í•˜ ê¸°ì§€** (`Dashboard.tsx`): 3D í­ê·„ ë¼ì´ë¸Œ ë·° + í€µ ì•¡ì…˜
2. **ë¹™í•˜ ê±´ê°•** (`ConditionTracker.tsx`): 5ë‹¨ê³„ ì»¨ë””ì…˜ ì¶”ì 
3. **ë¹™í•˜ íƒí—˜** (`ProjectManager.tsx`): ì¹¸ë°˜ ë³´ë“œ + ë“œë˜ê·¸ ì•¤ ë“œë¡­
4. **í­ê·„ ë½€ëª¨ë„ë¡œ** (`Pomodoro.tsx`): 3D í­ê·„ íƒ€ì´ë¨¸ + ì„¸ì…˜ ê¸°ë¡
5. **ë¹™í•˜ ë¶„ì„** (`Analytics.tsx`): ì»¨ë””ì…˜ + ë½€ëª¨ë„ë¡œ í†µê³„ + ì£¼ê°„ë³´ê³ 
6. **ë¹™í•˜ ì„¤ì •** (`Settings.tsx`): í…Œë§ˆ + ì‚¬ìš©ì ì„¤ì •

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸
### Frontend
- **React 18** + **TypeScript** (í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ í•„ìˆ˜)
- **Material-UI v5** (ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸)
- **Three.js** (3D í­ê·„ ì‹œê°í™”)
- **React Router v6** (HashRouter ì‚¬ìš©)
- **Day.js** (ë‚ ì§œ ì²˜ë¦¬)
- **react-beautiful-dnd** (ë“œë˜ê·¸ ì•¤ ë“œë¡­)

### Backend
- **Firebase Auth** (Google OAuth ì „ìš©)
- **Firestore** (ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤)
- **GitHub Pages** (ì •ì  ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ…)

### Build & Deploy
- **Vite** (ë¹Œë“œ ë„êµ¬)
- **gh-pages** (ë°°í¬ ìë™í™”)

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ
### ìƒ‰ìƒ íŒ”ë ˆíŠ¸
- **Primary**: #2196F3 (ë¹™í•˜ íŒŒë€ìƒ‰)
- **Secondary**: #FFD700 (í­ê·„ ë¶€ë¦¬ ë…¸ë€ìƒ‰) 
- **Accent**: #FF8C00 (ë”°ëœ»í•œ ì£¼í™©ìƒ‰)
- **Success**: #4CAF50 (ìƒì„  ì´ˆë¡ìƒ‰)
- **Background**: ë¼ì´íŠ¸ #F8F9FA / ë‹¤í¬ #121212

### ì´ëª¨ì§€ ê°€ì´ë“œ
- **í­ê·„**: ğŸ§ (ì‚¬ìš©ì, ìµœê³  ì»¨ë””ì…˜)
- **ë¹™í•˜**: ğŸ”ï¸â„ï¸ğŸ§Š (ë©”ì¸ í…Œë§ˆ)
- **ë°”ë‹¤**: ğŸŒŠğŸŸ (ì™„ë£Œ, ì„±ê³¼)
- **ìƒíƒœ**: ğŸŒˆ(ì§„í–‰ì¤‘), â„ï¸(ì¼ì‹œì •ì§€), ğŸ”´(ì·¨ì†Œ)
- **ë„êµ¬**: ğŸ…(ë½€ëª¨ë„ë¡œ), ğŸ“Š(ë¶„ì„), âš™ï¸(ì„¤ì •)

### UI ì›ì¹™
- **ë¯¸ë‹ˆë©€**: ì •ë³´ ê³¼ë¶€í•˜ ë°©ì§€
- **ë°˜ì‘í˜•**: ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„
- **ì¼ê´€ì„±**: "ë¹™í•˜ XX" ë„¤ì´ë° í†µì¼
- **ì ‘ê·¼ì„±**: ìƒ‰ìƒ ëŒ€ë¹„, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

## ğŸ§± ì•„í‚¤í…ì²˜ íŒ¨í„´

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```
src/
â”œâ”€â”€ components/        # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Layout.tsx    # ë©”ì¸ ë ˆì´ì•„ì›ƒ + ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”œâ”€â”€ Login.tsx     # ë¡œê·¸ì¸ í¼
â”‚   â””â”€â”€ ModernPenguinScene.tsx  # 3D í­ê·„ ì”¬
â”œâ”€â”€ pages/            # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ types/            # TypeScript ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ utils/            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â””â”€â”€ firebase.ts   # Firebase ì—°ë™
â””â”€â”€ config/           # ì„¤ì • íŒŒì¼
```

### ìƒíƒœ ê´€ë¦¬ íŒ¨í„´
- **ë¡œì»¬ ìƒíƒœ**: `useState` + `useEffect`
- **ë°ì´í„° ë™ê¸°í™”**: Firebase â†” localStorage ì–‘ë°©í–¥
- **ì˜¤ë¥˜ ì²˜ë¦¬**: try-catch + fallback íŒ¨í„´
- **ë¡œë”© ìƒíƒœ**: ê° ì»´í¬ë„ŒíŠ¸ë³„ ê´€ë¦¬

### ë°ì´í„° íë¦„
1. **ë¡œë“œ**: Firebase â†’ ì‹¤íŒ¨ì‹œ localStorage fallback
2. **ì €ì¥**: Firebase + localStorage ë™ì‹œ ì €ì¥
3. **ë™ê¸°í™”**: ë¡œê·¸ì¸ì‹œ ìë™ ì–‘ë°©í–¥ ë™ê¸°í™”

## ğŸ—„ Firebase ë°ì´í„° êµ¬ì¡°
```
users/{userId}/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ conditions     # ì»¨ë””ì…˜ ê¸°ë¡
â”‚   â”œâ”€â”€ projects       # í”„ë¡œì íŠ¸ ë°ì´í„°
â”‚   â””â”€â”€ settings       # ì‚¬ìš©ì ì„¤ì •
â””â”€â”€ pomodoro_sessions/ # ë½€ëª¨ë„ë¡œ ì„¸ì…˜ ê¸°ë¡

accessRequests/        # ì‚¬ìš©ì ìŠ¹ì¸ ìš”ì²­
{email}/
â”œâ”€â”€ status: "pending|approved|rejected"
â”œâ”€â”€ displayName, photoURL
â””â”€â”€ requestedAt, processedAt
```

## ğŸ® 3D ì‹œìŠ¤í…œ (Three.js)

### ModernPenguinScene ì»´í¬ë„ŒíŠ¸
- **í­ê·„ ëª¨ë¸**: í˜„ì‹¤ì ì¸ 3D í­ê·„ (SphereGeometry ì¡°í•©)
- **í™˜ê²½**: ë¹™í•˜, ë°”ë‹¤, ëˆˆ íŒŒí‹°í´
- **ì• ë‹ˆë©”ì´ì…˜**: ê±·ê¸°, ë§ˆìš°ìŠ¤ ì¶”ì , ë¬¼ê³ ê¸° ì í”„
- **ìƒíƒœ ì‹œê°í™”**: í”„ë¡œì íŠ¸ ìƒíƒœë³„ í­ê·„ ìƒ‰ìƒ
- **ì¸í„°ë™ì…˜**: í˜¸ë²„ íˆ´íŒ, í´ë¦­ ì´ë²¤íŠ¸

### ì„±ëŠ¥ ìµœì í™”
- **Scene ì¬ì‚¬ìš©**: ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ì‹œë§Œ ì •ë¦¬
- **ì• ë‹ˆë©”ì´ì…˜**: requestAnimationFrame ì‚¬ìš©
- **ë©”ëª¨ë¦¬**: Geometry/Material ì ì ˆí•œ dispose

## ğŸ“ ì½”ë”© ì»¨ë²¤ì…˜

### TypeScript ê·œì¹™
```typescript
// âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´
interface SimpleTodo {
  id: string;
  title: string;
  completed: boolean;
  createdAt: string;
}

const [todos, setTodos] = useState<SimpleTodo[]>([]);

// âŒ í”¼í•´ì•¼ í•  íŒ¨í„´
const [data, setData] = useState<any>(null);
```

### React í›… ì‚¬ìš©ë²•
```typescript
// âœ… ì˜ì¡´ì„± ë°°ì—´ ëª…ì‹œ
useEffect(() => {
  loadData();
}, [selectedProject]);

// âŒ ì˜ì¡´ì„± ëˆ„ë½
useEffect(() => {
  loadData();
}, []); // selectedProject ì˜ì¡´ì„± ëˆ„ë½
```

### Firebase í˜¸ì¶œ íŒ¨í„´
```typescript
// âœ… ì—ëŸ¬ ì²˜ë¦¬ + fallback
const loadData = async () => {
  try {
    const user = getCurrentUser();
    if (user) {
      const result = await loadUserData(user.uid, "projects");
      if (result.success && result.data) {
        setProjects(result.data);
      }
    }
  } catch (error) {
    console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", error);
    // localStorage fallback
    const localData = localStorage.getItem("projects");
    if (localData) {
      setProjects(JSON.parse(localData));
    }
  }
};
```

## ğŸš€ ë°°í¬ ì›Œí¬í”Œë¡œìš°

### ê°œë°œ í™˜ê²½
```bash
npm run dev        # ë¡œì»¬ ê°œë°œ ì„œë²„
npm run build      # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run preview    # ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°
```

### ë°°í¬ í”„ë¡œì„¸ìŠ¤
```bash
npm run deploy     # GitHub Pages ìë™ ë°°í¬
# ë‚´ë¶€ì ìœ¼ë¡œ: build â†’ gh-pages -d dist
```

### URL êµ¬ì¡°
- **Production**: https://callipenguin.github.io/my-penguin/
- **Router**: HashRouter ì‚¬ìš© (#/path í˜•íƒœ)
- **Assets**: ì •ì  íŒŒì¼ ìë™ ìµœì í™”

## ğŸ›  ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤
1. **í• ì¼ ì—°ë™ ì•ˆë¨**: `projectTodos` vs `project.tasks` íƒ€ì… ë¶ˆì¼ì¹˜
2. **3D ë Œë”ë§ ì˜¤ë¥˜**: Three.js ë©”ëª¨ë¦¬ ëˆ„ìˆ˜, scene ì •ë¦¬ ë¶€ì¡±
3. **Firebase ì—°ê²° ì‹¤íŒ¨**: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì‹œ localStorage fallback
4. **ë¼ìš°íŒ… ë¬¸ì œ**: GitHub Pagesì—ì„œ BrowserRouter â†’ HashRouter
5. **í…Œë§ˆ ì ìš© ì•ˆë¨**: localStorage ì„¤ì • ë¡œë“œ íƒ€ì´ë° ì´ìŠˆ

### ë””ë²„ê¹… íŒ¨í„´
```typescript
// Firebase ì—°ê²° ìƒíƒœ í™•ì¸
console.log("Firebase ì—°ê²°:", await checkFirebaseConnection());

// 3D Scene ìƒíƒœ í™•ì¸  
console.log("Scene objects:", scene.children.length);

// ìƒíƒœ ë™ê¸°í™” í™•ì¸
console.log("Local:", localStorage.getItem("projects"));
console.log("State:", projects);
```

## ğŸ“š ë‹¤ìŒ ëŒ€í™”ë¥¼ ìœ„í•œ ì»¨í…ìŠ¤íŠ¸

### í˜„ì¬ ì§„í–‰ ìƒí™© (2024.08.01)
- âœ… í• ì¼ ì—°ë™ ë¬¸ì œ í•´ê²° ì™„ë£Œ
- âœ… UI/UX ê°œì„  (ë°°ë„ˆ ì‹¬í”Œí™”, í­ê·„ ë ˆì´ì•„ì›ƒ ìµœì í™”) ì™„ë£Œ  
- âœ… ë½€ëª¨ë„ë¡œ í­ê·„ ì• ë‹ˆë©”ì´ì…˜ ê°œì„  ì™„ë£Œ
- âœ… ê°œë°œ ë¡œê·¸ & ê·œì¹™ ì—…ë°ì´íŠ¸ ì™„ë£Œ

### ë‹¤ìŒ ì‘ì—… í›„ë³´
- [ ] projectTodos Firebase ë™ê¸°í™” êµ¬í˜„
- [ ] ì£¼ì°¨ ì„ íƒê¸° UI ì¶”ê°€ (Analytics)
- [ ] í­ê·„ ì• ë‹ˆë©”ì´ì…˜ ì„¸ë¶€ ì¡°ì •
- [ ] ëª¨ë°”ì¼ UX ì¶”ê°€ ê°œì„ 
- [ ] ì„±ëŠ¥ ìµœì í™” (Bundle í¬ê¸°, ë Œë”ë§)

### ì£¼ì˜ì‚¬í•­
- ë½€ëª¨ë„ë¡œì—ì„œëŠ” `project.tasks` ëŒ€ì‹  `projectTodos` ì‚¬ìš©
- Three.js ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ì‹œ ë°˜ë“œì‹œ ì •ë¦¬ í•„ìš”
- Firebase í˜¸ì¶œì‹œ í•­ìƒ fallback íŒ¨í„´ ì ìš©
- ëª¨ë“  ìƒˆ ê¸°ëŠ¥ì€ ë¹™í•˜/í­ê·„ í…Œë§ˆ ìœ ì§€
- ì‚¬ìš©ì í”¼ë“œë°±: "ë³µì¡í•¨ë³´ë‹¤ ì‹¬í”Œí•¨ ì„ í˜¸"

---
ğŸ§ *í­ê·„ê³¼ í•¨ê»˜í•˜ëŠ” ìƒì‚°ì ì¸ ê°œë°œì„ ìœ„í•´! í™”ì´íŒ…!* â„ï¸ 